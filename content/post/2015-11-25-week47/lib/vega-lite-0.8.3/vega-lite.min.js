!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.vl=e()}}(function(){var e;return function t(e,n,a){function r(f,o){if(!n[f]){if(!e[f]){var d="function"==typeof require&&require;if(!o&&d)return d(f,!0);if(i)return i(f,!0);var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[f]={exports:{}};e[f][0].call(u.exports,function(t){var n=e[f][1][t];return r(n?n:t)},u,u.exports,t,e,n,a)}return n[f].exports}for(var i="function"==typeof require&&require,f=0;f<a.length;f++)r(a[f]);return r}({1:[function(e,t,n){},{}],2:[function(t,n,a){!function(){var t={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof e&&e.amd?e(t):"object"==typeof n&&n.exports?n.exports=t:this.colorbrewer=t}()},{}],3:[function(e,t,n){t.exports=e("./colorbrewer.js")},{"./colorbrewer.js":2}],4:[function(t,n,a){!function(t,r){"object"==typeof a&&"undefined"!=typeof n?r(a):"function"==typeof e&&e.amd?e("d3-color",["exports"],r):r(t.d3_color={})}(this,function(e){"use strict";function t(){}function n(e){var t;return e=(e+"").trim().toLowerCase(),(t=k.exec(e))?(t=parseInt(t[1],16),r(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t)):(t=N.exec(e))?a(parseInt(t[1],16)):(t=C.exec(e))?r(t[1],t[2],t[3]):(t=L.exec(e))?r(255*t[1]/100,255*t[2]/100,255*t[3]/100):(t=E.exec(e))?o(t[1],t[2]/100,t[3]/100):U.hasOwnProperty(e)?a(U[e]):null}function a(e){return r(e>>16&255,e>>8&255,255&e)}function r(e,a,r){return 1===arguments.length&&(e instanceof t||(e=n(e)),e?(e=e.rgb(),r=e.b,a=e.g,e=e.r):e=a=r=NaN),new i(e,a,r)}function i(e,t,n){this.r=+e,this.g=+t,this.b=+n}function f(e,t,n){return"#"+(isNaN(e)?"00":(e=Math.round(e))<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16))+(isNaN(t)?"00":(t=Math.round(t))<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16))+(isNaN(n)?"00":(n=Math.round(n))<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16))}function o(e,a,r){if(1===arguments.length)if(e instanceof d)r=e.l,a=e.s,e=e.h;else if(e instanceof t||(e=n(e)),e){if(e instanceof d)return e;e=e.rgb();var i=e.r/255,f=e.g/255,o=e.b/255,c=Math.min(i,f,o),u=Math.max(i,f,o),s=u-c;r=(u+c)/2,s?(a=.5>r?s/(u+c):s/(2-u-c),e=i===u?(f-o)/s+6*(o>f):f===u?(o-i)/s+2:(i-f)/s+4,e*=60):(e=NaN,a=r>0&&1>r?0:e)}else e=a=r=NaN;return new d(e,a,r)}function d(e,t,n){this.h=+e,this.s=+t,this.l=+n}function c(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function u(e,t,n){if(1===arguments.length)if(e instanceof s)n=e.b,t=e.a,e=e.l;else if(e instanceof g){var a=e.h*G;n=Math.sin(a)*e.c,t=Math.cos(a)*e.c,e=e.l}else{e instanceof i||(e=r(e));var f=p(e.r),o=p(e.g),n=p(e.b),d=l((.4124564*f+.3575761*o+.1804375*n)/X),c=l((.2126729*f+.7151522*o+.072175*n)/j),u=l((.0193339*f+.119192*o+.9503041*n)/W);n=200*(c-u),t=500*(d-c),e=116*c-16}return new s(e,t,n)}function s(e,t,n){this.l=+e,this.a=+t,this.b=+n}function l(e){return e>B?Math.pow(e,1/3):e/$+H}function b(e){return e>z?e*e*e:$*(e-H)}function h(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function p(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function m(e,t,n){return 1===arguments.length&&(e instanceof g?(n=e.l,t=e.c,e=e.h):(e instanceof s||(e=u(e)),n=e.l,t=Math.sqrt(e.a*e.a+e.b*e.b),e=Math.atan2(e.b,e.a)*J,0>e&&(e+=360))),new g(e,t,n)}function g(e,t,n){this.h=+e,this.c=+t,this.l=+n}function y(e,t,n){if(1===arguments.length)if(e instanceof v)n=e.l,t=e.s,e=e.h;else{e instanceof i||(e=r(e));var a=e.r/255,f=e.g/255,o=e.b/255;n=(re*o+ne*a-ae*f)/(re+ne-ae);var d=o-n,c=(te*(f-n)-K*d)/ee;t=Math.sqrt(c*c+d*d)/(te*n*(1-n)),e=t?Math.atan2(c,d)*J-120:NaN,0>e&&(e+=360)}return new v(e,t,n)}function v(e,t,n){this.h=+e,this.s=+t,this.l=+n}function M(e,t){var n=e-t;return n>180||-180>n?n-360*Math.round(n/360):n}function O(e){return function(t,n){t=y(t),n=y(n);var a=isNaN(t.h)?n.h:t.h,r=isNaN(t.s)?n.s:t.s,i=t.l,f=isNaN(n.h)?0:M(n.h,a),o=isNaN(n.s)?0:n.s-r,d=n.l-i;return function(n){return t.h=a+f*n,t.s=r+o*n,t.l=i+d*Math.pow(n,e),t+""}}}function T(e){return function(t,n){t=y(t),n=y(n);var a=isNaN(t.h)?n.h:t.h,r=isNaN(t.s)?n.s:t.s,i=t.l,f=isNaN(n.h)?0:n.h-a,o=isNaN(n.s)?0:n.s-r,d=n.l-i;return function(n){return t.h=a+f*n,t.s=r+o*n,t.l=i+d*Math.pow(n,e),t+""}}}function x(e,t){e=r(e),t=r(t);var n=e.r,a=e.g,i=e.b,o=t.r-n,d=t.g-a,c=t.b-i;return function(e){return f(Math.round(n+o*e),Math.round(a+d*e),Math.round(i+c*e))}}function S(e,t){e=o(e),t=o(t);var n=isNaN(e.h)?t.h:e.h,a=isNaN(e.s)?t.s:e.s,r=e.l,i=isNaN(t.h)?0:M(t.h,n),f=isNaN(t.s)?0:t.s-a,d=t.l-r;return function(t){return e.h=n+i*t,e.s=a+f*t,e.l=r+d*t,e+""}}function A(e,t){e=o(e),t=o(t);var n=isNaN(e.h)?t.h:e.h,a=isNaN(e.s)?t.s:e.s,r=e.l,i=isNaN(t.h)?0:t.h-n,f=isNaN(t.s)?0:t.s-a,d=t.l-r;return function(t){return e.h=n+i*t,e.s=a+f*t,e.l=r+d*t,e+""}}function D(e,t){e=u(e),t=u(t);var n=e.l,a=e.a,r=e.b,i=t.l-n,f=t.a-a,o=t.b-r;return function(t){return e.l=n+i*t,e.a=a+f*t,e.b=r+o*t,e+""}}function R(e,t){e=m(e),t=m(t);var n=isNaN(e.h)?t.h:e.h,a=isNaN(e.c)?t.c:e.c,r=e.l,i=isNaN(t.h)?0:M(t.h,n),f=isNaN(t.c)?0:t.c-a,o=t.l-r;return function(t){return e.h=n+i*t,e.c=a+f*t,e.l=r+o*t,e+""}}function w(e,t){e=m(e),t=m(t);var n=isNaN(e.h)?t.h:e.h,a=isNaN(e.c)?t.c:e.c,r=e.l,i=isNaN(t.h)?0:t.h-n,f=isNaN(t.c)?0:t.c-a,o=t.l-r;return function(t){return e.h=n+i*t,e.c=a+f*t,e.l=r+o*t,e+""}}var k=/^#([0-9a-f]{3})$/,N=/^#([0-9a-f]{6})$/,C=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,L=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,E=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/;n.prototype=t.prototype={displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}};var U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Y=.7,I=1/Y,P=r.prototype=i.prototype=new t;P.brighter=function(e){return e=null==e?I:Math.pow(I,e),new i(this.r*e,this.g*e,this.b*e)},P.darker=function(e){return e=null==e?Y:Math.pow(Y,e),new i(this.r*e,this.g*e,this.b*e)},P.rgb=function(){return this},P.displayable=function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255},P.toString=function(){return f(this.r,this.g,this.b)};var _=o.prototype=d.prototype=new t;_.brighter=function(e){return e=null==e?I:Math.pow(I,e),new d(this.h,this.s,this.l*e)},_.darker=function(e){return e=null==e?Y:Math.pow(Y,e),new d(this.h,this.s,this.l*e)},_.rgb=function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(.5>n?n:1-n)*t,r=2*n-a;return new i(c(e>=240?e-240:e+120,r,a),c(e,r,a),c(120>e?e+240:e-120,r,a))},_.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1};var F=18,X=.95047,j=1,W=1.08883,H=4/29,z=6/29,$=3*z*z,B=z*z*z,q=u.prototype=s.prototype=new t;q.brighter=function(e){return new s(this.l+F*(null==e?1:e),this.a,this.b)},q.darker=function(e){return new s(this.l-F*(null==e?1:e),this.a,this.b)},q.rgb=function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=j*b(e),t=X*b(t),n=W*b(n),new i(h(3.2404542*t-1.5371385*e-.4985314*n),h(-.969266*t+1.8760108*e+.041556*n),h(.0556434*t-.2040259*e+1.0572252*n))};var G=Math.PI/180,J=180/Math.PI,V=m.prototype=g.prototype=new t;V.brighter=function(e){return new g(this.h,this.c,this.l+F*(null==e?1:e))},V.darker=function(e){return new g(this.h,this.c,this.l-F*(null==e?1:e))},V.rgb=function(){return u(this).rgb()};var Z=-.14861,Q=1.78277,K=-.29227,ee=-.90649,te=1.97294,ne=te*ee,ae=te*Q,re=Q*K-ee*Z,ie=y.prototype=v.prototype=new t;ie.brighter=function(e){return e=null==e?I:Math.pow(I,e),new v(this.h,this.s,this.l*e)},ie.darker=function(e){return e=null==e?Y:Math.pow(Y,e),new v(this.h,this.s,this.l*e)},ie.rgb=function(){var e=isNaN(this.h)?0:(this.h+120)*G,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),r=Math.sin(e);return new i(255*(t+n*(Z*a+Q*r)),255*(t+n*(K*a+ee*r)),255*(t+n*(te*a)))};var fe=O(1),oe=T(1),de="0.2.8";e.version=de,e.interpolateCubehelix=fe,e.interpolateCubehelixLong=oe,e.interpolateCubehelixGamma=O,e.interpolateCubehelixGammaLong=T,e.color=n,e.rgb=r,e.hsl=o,e.lab=u,e.hcl=m,e.cubehelix=y,e.interpolateRgb=x,e.interpolateHsl=S,e.interpolateHslLong=A,e.interpolateLab=D,e.interpolateHcl=R,e.interpolateHclLong=w})},{}],5:[function(t,n,a){!function(t,r){"object"==typeof a&&"undefined"!=typeof n?r(a):"function"==typeof e&&e.amd?e("d3-format",["exports"],r):r(t.d3_format={})}(this,function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function n(e){return e=t(Math.abs(e)),e?e[1]:NaN}function a(e,t){return function(n,a){for(var r=n.length,i=[],f=0,o=e[0],d=0;r>0&&o>0&&(d+o+1>a&&(o=Math.max(1,a-d)),i.push(n.substring(r-=o,r+o)),!((d+=o+1)>a));)o=e[f=(f+1)%e.length];return i.reverse().join(t)}}function r(e,n){var a=t(e,n);if(!a)return e+"";var r=a[0],i=a[1],f=i-(p=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return f===o?r:f>o?r+new Array(f-o+1).join("0"):f>0?r.slice(0,f)+"."+r.slice(f):"0."+new Array(1-f).join("0")+t(e,Math.max(0,n+f-1))[0]}function i(e,n){var a=t(e,n);if(!a)return e+"";var r=a[0],i=a[1];return 0>i?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function f(e,t){e=e.toPrecision(t);e:for(var n,a=e.length,r=1,i=-1;a>r;++r)switch(e[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;case"e":break e;default:i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(n+1):e}function o(e){return new d(e)}function d(e){if(!(t=F.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",a=t[2]||">",r=t[3]||"-",i=t[4]||"",f=!!t[5],o=t[6]&&+t[6],d=!!t[7],c=t[8]&&+t[8].slice(1),u=t[9]||"";"n"===u?(d=!0,u="g"):_[u]||(u=""),(f||"0"===n&&"="===a)&&(f=!0,n="0",a="="),this.fill=n,this.align=a,this.sign=r,this.symbol=i,this.zero=f,this.width=o,this.comma=d,this.precision=c,this.type=u}function c(e){return e}function u(e){function t(e){e=o(e);var t=e.fill,n=e.align,a=e.sign,r=e.symbol,c=e.zero,u=e.width,s=e.comma,l=e.precision,b=e.type,h="$"===r?f[0]:"#"===r&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",m="$"===r?f[1]:/[%p]/.test(b)?"%":"",g=_[b],y=!b||/[defgprs%]/.test(b);return l=null==l?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,l)):Math.max(0,Math.min(20,l)),function(e){var r=h,f=m;if("c"===b)f=g(e)+f,e="";else{e=+e;var o=(0>e||0>1/e)&&(e*=-1,!0);if(e=g(e,l),o){var v,M=-1,O=e.length;for(o=!1;++M<O;)if(v=e.charCodeAt(M),v>48&&58>v||"x"===b&&v>96&&103>v||"X"===b&&v>64&&71>v){o=!0;break}}if(r=(o?"("===a?a:"-":"-"===a||"("===a?"":a)+r,f=f+("s"===b?X[8+p/3]:"")+(o&&"("===a?")":""),y)for(var v,M=-1,O=e.length;++M<O;)if(v=e.charCodeAt(M),48>v||v>57){f=(46===v?d+e.slice(M+1):e.slice(M))+f,e=e.slice(0,M);break}}s&&!c&&(e=i(e,1/0));var T=r.length+e.length+f.length,x=u>T?new Array(u-T+1).join(t):"";switch(s&&c&&(e=i(x+e,x.length?u-f.length:1/0),x=""),
n){case"<":return r+e+f+x;case"=":return r+x+e+f;case"^":return x.slice(0,T=x.length>>1)+r+e+f+x.slice(T)}return x+r+e+f}}function r(e,a){var r=t((e=o(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(n(a)/3))),f=Math.pow(10,-i),d=X[8+i/3];return function(e){return r(f*e)+d}}var i=e.grouping&&e.thousands?a(e.grouping,e.thousands):c,f=e.currency,d=e.decimal;return{format:t,formatPrefix:r}}function s(e){return Math.max(0,-n(Math.abs(e)))}function l(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))}function b(e,t){return Math.max(0,n(Math.abs(t))-n(Math.abs(e)))+1}function h(e){if("string"==typeof e){if(!j.hasOwnProperty(e))return null;e=j[e]}return u(e)}var p,m={decimal:".",thousands:",",grouping:[3],currency:["¥",""]},g={decimal:",",thousands:" ",grouping:[3],currency:["","SEK"]},y={decimal:",",thousands:" ",grouping:[3],currency:[""," руб."]},v={decimal:",",thousands:".",grouping:[3],currency:["R$",""]},M={decimal:",",thousands:".",grouping:[3],currency:["","zł"]},O={decimal:",",thousands:".",grouping:[3],currency:["€ ",""]},T={decimal:",",thousands:".",grouping:[3],currency:[""," ден."]},x={decimal:".",thousands:",",grouping:[3],currency:["₩",""]},S={decimal:".",thousands:",",grouping:[3],currency:["","円"]},A={decimal:",",thousands:".",grouping:[3],currency:["€",""]},D={decimal:",",thousands:" ",grouping:[3],currency:[""," Ft"]},R={decimal:".",thousands:",",grouping:[3],currency:["₪",""]},w={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},k={decimal:",",thousands:" ",grouping:[3],currency:["","$"]},N={decimal:",",thousands:" ",grouping:[3],currency:[""," €"]},C={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},L={decimal:".",thousands:",",grouping:[3],currency:["$",""]},E={decimal:".",thousands:",",grouping:[3],currency:["£",""]},U={decimal:".",thousands:",",grouping:[3],currency:["$",""]},Y={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},I={decimal:",",thousands:"'",grouping:[3],currency:[""," CHF"]},P={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},_={"":f,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return i(100*e,t)},r:i,s:r,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},F=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;d.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var X=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],j={"ca-ES":P,"de-CH":I,"de-DE":Y,"en-CA":U,"en-GB":E,"en-US":L,"es-ES":C,"fi-FI":N,"fr-CA":k,"fr-FR":w,"he-IL":R,"hu-HU":D,"it-IT":A,"ja-JP":S,"ko-KR":x,"mk-MK":T,"nl-NL":O,"pl-PL":M,"pt-BR":v,"ru-RU":y,"sv-SE":g,"zh-CN":m},W=u(L),H=W.format,z=W.formatPrefix,$="0.3.6";e.version=$,e.format=H,e.formatPrefix=z,e.localeFormat=h,e.formatSpecifier=o,e.precisionFixed=s,e.precisionPrefix=l,e.precisionRound=b})},{}],6:[function(t,n,a){!function(r,i){"object"==typeof a&&"undefined"!=typeof n?i(a,t("d3-time")):"function"==typeof e&&e.amd?e("d3-time-format",["exports","d3-time"],i):i(r.d3_time_format={},r.d3_time)}(this,function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function r(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function i(e){function t(e,t){return function(n){for(var a,r,i,f=[],o=-1,d=0,c=e.length;++o<c;)37===e.charCodeAt(o)&&(f.push(e.slice(d,o)),null!=(r=xe[a=e.charAt(++o)])&&(a=e.charAt(++o)),(i=t[a])&&(a=i(n,null==r?"e"===a?" ":"0":r)),f.push(a),d=o+1);return f.push(e.slice(d,o)),f.join("")}}function i(e,t){return function(n){var i=r(1900),o=f(i,e,n,0);if(o!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"Z"in i){if("w"in i&&("W"in i||"U"in i)){var d=a(r(i.y)).getUTCDay();"W"in i&&(i.U=i.W,i.w=(i.w+6)%7,--d),i.m=0,i.d=i.w+7*i.U-(d+6)%7}return i.H+=i.Z/100|0,i.M+=i.Z%100,a(i)}if("w"in i&&("W"in i||"U"in i)){var d=t(r(i.y)).getDay();"W"in i&&(i.U=i.W,i.w=(i.w+6)%7,--d),i.m=0,i.d=i.w+7*i.U-(d+6)%7}return t(i)}}function f(e,t,n,a){for(var r,i,f=0,o=t.length,d=n.length;o>f;){if(a>=d)return-1;if(r=t.charCodeAt(f++),37===r){if(r=t.charAt(f++),i=Ie[r in xe?t.charAt(f++):r],!i||(a=i(e,n,a))<0)return-1}else if(r!=n.charCodeAt(a++))return-1}return a}function o(e,t,n){var a=we.exec(t.slice(n));return a?(e.w=ke[a[0].toLowerCase()],n+a[0].length):-1}function K(e,t,n){var a=De.exec(t.slice(n));return a?(e.w=Re[a[0].toLowerCase()],n+a[0].length):-1}function ee(e,t,n){var a=Le.exec(t.slice(n));return a?(e.m=Ee[a[0].toLowerCase()],n+a[0].length):-1}function te(e,t,n){var a=Ne.exec(t.slice(n));return a?(e.m=Ce[a[0].toLowerCase()],n+a[0].length):-1}function ne(e,t,n){return f(e,me,t,n)}function ae(e,t,n){return f(e,ge,t,n)}function re(e,t,n){return f(e,ye,t,n)}function ie(e,t,n){var a=Ae[t.slice(n,n+=2).toLowerCase()];return null==a?-1:(e.p=a,n)}function fe(e){return Oe[e.getDay()]}function oe(e){return Me[e.getDay()]}function de(e){return Se[e.getMonth()]}function ce(e){return Te[e.getMonth()]}function ue(e){return ve[+(e.getHours()>=12)]}function se(e){return Oe[e.getUTCDay()]}function le(e){return Me[e.getUTCDay()]}function be(e){return Se[e.getUTCMonth()]}function he(e){return Te[e.getUTCMonth()]}function pe(e){return ve[+(e.getUTCHours()>=12)]}var me=e.dateTime,ge=e.date,ye=e.time,ve=e.periods,Me=e.days,Oe=e.shortDays,Te=e.months,Se=e.shortMonths,Ae=c(ve),De=d(Me),Re=c(Me),we=d(Oe),ke=c(Oe),Ne=d(Te),Ce=c(Te),Le=d(Se),Ee=c(Se),Ue={a:fe,A:oe,b:de,B:ce,c:null,d:S,e:S,H:A,I:D,j:R,L:w,m:k,M:N,p:ue,S:C,U:L,w:E,W:U,x:null,X:null,y:Y,Y:I,Z:P,"%":Q},Ye={a:se,A:le,b:be,B:he,c:null,d:_,e:_,H:F,I:X,j:j,L:W,m:H,M:z,p:pe,S:$,U:B,w:q,W:G,x:null,X:null,y:J,Y:V,Z:Z,"%":Q},Ie={a:o,A:K,b:ee,B:te,c:ne,d:g,e:g,H:v,I:v,j:y,L:T,m:m,M:M,p:ie,S:O,U:s,w:u,W:l,x:ae,X:re,y:h,Y:b,Z:p,"%":x};return Ue.x=t(ge,Ue),Ue.X=t(ye,Ue),Ue.c=t(me,Ue),Ye.x=t(ge,Ye),Ye.X=t(ye,Ye),Ye.c=t(me,Ye),{format:function(e){var a=t(e+="",Ue);return a.parse=i(e,n),a.toString=function(){return e},a},utcFormat:function(e){var n=t(e+="",Ye);return n.parse=i(e,a),n.toString=function(){return e},n}}}function f(e,t,n){var a=0>e?"-":"",r=(a?-e:e)+"",i=r.length;return a+(n>i?new Array(n-i+1).join(t)+r:r)}function o(e){return e.replace(De,"\\$&")}function d(e){return new RegExp("^(?:"+e.map(o).join("|")+")","i")}function c(e){for(var t={},n=-1,a=e.length;++n<a;)t[e[n].toLowerCase()]=n;return t}function u(e,t,n){var a=Se.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function s(e,t,n){var a=Se.exec(t.slice(n));return a?(e.U=+a[0],n+a[0].length):-1}function l(e,t,n){var a=Se.exec(t.slice(n));return a?(e.W=+a[0],n+a[0].length):-1}function b(e,t,n){var a=Se.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function h(e,t,n){var a=Se.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function p(e,t,n){var a=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:a[3]?-(a[2]+a[3]):100*-a[2],n+a[0].length):-1}function m(e,t,n){var a=Se.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function g(e,t,n){var a=Se.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function y(e,t,n){var a=Se.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function v(e,t,n){var a=Se.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function M(e,t,n){var a=Se.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function O(e,t,n){var a=Se.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function T(e,t,n){var a=Se.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function x(e,t,n){var a=Ae.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function S(e,t){return f(e.getDate(),t,2)}function A(e,t){return f(e.getHours(),t,2)}function D(e,t){return f(e.getHours()%12||12,t,2)}function R(e,n){return f(1+t.day.count(t.year(e),e),n,3)}function w(e,t){return f(e.getMilliseconds(),t,3)}function k(e,t){return f(e.getMonth()+1,t,2)}function N(e,t){return f(e.getMinutes(),t,2)}function C(e,t){return f(e.getSeconds(),t,2)}function L(e,n){return f(t.sunday.count(t.year(e),e),n,2)}function E(e){return e.getDay()}function U(e,n){return f(t.monday.count(t.year(e),e),n,2)}function Y(e,t){return f(e.getFullYear()%100,t,2)}function I(e,t){return f(e.getFullYear()%1e4,t,4)}function P(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+f(t/60|0,"0",2)+f(t%60,"0",2)}function _(e,t){return f(e.getUTCDate(),t,2)}function F(e,t){return f(e.getUTCHours(),t,2)}function X(e,t){return f(e.getUTCHours()%12||12,t,2)}function j(e,n){return f(1+t.utcDay.count(t.utcYear(e),e),n,3)}function W(e,t){return f(e.getUTCMilliseconds(),t,3)}function H(e,t){return f(e.getUTCMonth()+1,t,2)}function z(e,t){return f(e.getUTCMinutes(),t,2)}function $(e,t){return f(e.getUTCSeconds(),t,2)}function B(e,n){return f(t.utcSunday.count(t.utcYear(e),e),n,2)}function q(e){return e.getUTCDay()}function G(e,n){return f(t.utcMonday.count(t.utcYear(e),e),n,2)}function J(e,t){return f(e.getUTCFullYear()%100,t,2)}function V(e,t){return f(e.getUTCFullYear()%1e4,t,4)}function Z(){return"+0000"}function Q(){return"%"}function K(e){return e.toISOString()}function ee(e){if("string"==typeof e){if(!ke.hasOwnProperty(e))return null;e=ke[e]}return i(e)}var te={dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["上午","下午"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},ne={dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"],days:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],shortDays:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]},ae={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["вс","пн","вт","ср","чт","пт","сб"],months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]},re={dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]},ie={dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Paźdz.","Listop.","Grudz."]},fe={dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]},oe={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["недела","понеделник","вторник","среда","четврток","петок","сабота"],shortDays:["нед","пон","вто","сре","чет","пет","саб"],months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],shortMonths:["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"]},de={dateTime:"%Y/%m/%d %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["오전","오후"],days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],shortDays:["일","월","화","수","목","금","토"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],shortMonths:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ce={dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["睦月","如月","弥生","卯月","皐月","水無月","文月","葉月","長月","神無月","霜月","師走"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},ue={dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]},se={dateTime:"%Y. %B %-e., %A %X",date:"%Y. %m. %d.",time:"%H:%M:%S",periods:["de.","du."],days:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],shortDays:["V","H","K","Sze","Cs","P","Szo"],months:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortMonths:["jan.","feb.","már.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."]},le={dateTime:"%A, %e ב%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],shortDays:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],shortMonths:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"]},be={dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]},he={dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"]},pe={dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"]},me={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]},ge={dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ye={dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ve={dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},Me={dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},Oe={dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},Te={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]},xe={"-":"",_:" ",0:"0"},Se=/^\s*\d+/,Ae=/^%/,De=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Re="%Y-%m-%dT%H:%M:%S.%LZ";K.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},K.toString=function(){return Re};var we=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?K:ge.utcFormat(Re),ke={"ca-ES":Te,"de-CH":Oe,"de-DE":Me,"en-CA":ve,"en-GB":ye,"en-US":ge,"es-ES":me,"fi-FI":pe,"fr-CA":he,"fr-FR":be,"he-IL":le,"hu-HU":se,"it-IT":ue,"ja-JP":ce,"ko-KR":de,"mk-MK":oe,"nl-NL":fe,"pl-PL":ie,"pt-BR":re,"ru-RU":ae,"sv-SE":ne,"zh-CN":te},Ne=i(ge),Ce=Ne.format,Le=Ne.utcFormat,Ee="0.1.5";e.version=Ee,e.format=Ce,e.utcFormat=Le,e.localeFormat=ee,e.isoFormat=we})},{"d3-time":7}],7:[function(t,n,a){!function(t,r){"object"==typeof a&&"undefined"!=typeof n?r(a):"function"==typeof e&&e.amd?e("d3-time",["exports"],r):r(t.d3_time={})}(this,function(e){"use strict";function t(e,n,a){function f(t){return e(t=new Date(+t)),t}return f.floor=f,f.round=function(t){var a=new Date(+t),r=new Date(t-1);return e(a),e(r),n(r,1),r-t>t-a?a:r},f.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},f.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},f.range=function(t,a,r){var i=[];if(t=new Date(t-1),a=new Date(+a),r=null==r?1:Math.floor(r),!(a>t&&r>0))return i;for(n(t,1),e(t),a>t&&i.push(new Date(+t));n(t,r),e(t),a>t;)i.push(new Date(+t));return i},f.filter=function(a){return t(function(t){for(;e(t),!a(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!a(e););})},a&&(f.count=function(t,n){return r.setTime(+t),i.setTime(+n),e(r),e(i),Math.floor(a(r,i))}),f}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function a(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var r=new Date,i=new Date,f=t(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e}),o=t(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3}),d=t(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4}),c=t(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5}),u=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),s=n(0),l=n(1),b=n(2),h=n(3),p=n(4),m=n(5),g=n(6),y=t(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),v=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()}),M=t(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3}),O=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4}),T=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5}),x=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5}),S=a(0),A=a(1),D=a(2),R=a(3),w=a(4),k=a(5),N=a(6),C=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),L=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),E=f.range,U=o.range,Y=d.range,I=c.range,P=u.range,_=s.range,F=l.range,X=b.range,j=h.range,W=p.range,H=m.range,z=g.range,$=s.range,B=y.range,q=v.range,G=f,J=E,V=M.range,Z=O.range,Q=T.range,K=x.range,ee=S.range,te=A.range,ne=D.range,ae=R.range,re=w.range,ie=k.range,fe=N.range,oe=S.range,de=C.range,ce=L.range,ue="0.0.7";e.version=ue,e.milliseconds=E,e.seconds=U,e.minutes=Y,e.hours=I,e.days=P,e.sundays=_,e.mondays=F,e.tuesdays=X,e.wednesdays=j,e.thursdays=W,e.fridays=H,e.saturdays=z,e.weeks=$,e.months=B,e.years=q,e.utcMillisecond=G,e.utcMilliseconds=J,e.utcSeconds=V,e.utcMinutes=Z,e.utcHours=Q,e.utcDays=K,e.utcSundays=ee,e.utcMondays=te,e.utcTuesdays=ne,e.utcWednesdays=ae,e.utcThursdays=re,e.utcFridays=ie,e.utcSaturdays=fe,e.utcWeeks=oe,e.utcMonths=de,e.utcYears=ce,e.millisecond=f,e.second=o,e.minute=d,e.hour=c,e.day=u,e.sunday=s,e.monday=l,e.tuesday=b,e.wednesday=h,e.thursday=p,e.friday=m,e.saturday=g,e.week=s,e.month=y,e.year=v,e.utcSecond=M,e.utcMinute=O,e.utcHour=T,e.utcDay=x,e.utcSunday=S,e.utcMonday=A,e.utcTuesday=D,e.utcWednesday=R,e.utcThursday=w,e.utcFriday=k,e.utcSaturday=N,e.utcWeek=S,e.utcMonth=C,e.utcYear=L,e.interval=t})},{}],8:[function(e,t,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],9:[function(e,t,n){function a(e){if(!e)throw Error("Missing binning options.");var t,n,a,o,d,c,u,s=e.maxbins||15,l=e.base||10,b=Math.log(l),h=e.div||[5,2],p=e.min,m=e.max,g=m-p;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,r(e.steps,g/s,0,e.steps.length))];else{n=Math.ceil(Math.log(s)/b),a=e.minstep||0,t=Math.max(a,Math.pow(l,Math.round(Math.log(g)/b)-n));do t*=l;while(Math.ceil(g/t)>s);for(c=0;c<h.length;++c)d=t/h[c],d>=a&&s>=g/d&&(t=d)}return d=Math.log(t),o=d>=0?0:~~(-d/b)+1,u=Math.pow(l,-o-1),p=Math.min(p,Math.floor(p/t+u)*t),m=Math.ceil(m/t)*t,{start:p,stop:m,step:t,unit:{precision:o},value:i,index:f}}function r(e,t,n,a){for(;a>n;){var r=n+a>>>1;c.cmp(e[r],t)<0?n=r+1:a=r}return n}function i(e){return this.step*Math.floor(e/this.step+s)}function f(e){return Math.floor((e-this.start)/this.step+s)}function o(e){return this.unit.date(i.call(this,e))}function d(e){return f.call(this,this.unit.unit(e))}var c=e("../util"),u=e("../time"),s=1e-15;a.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?u.utc:u,n=e.min,r=e.max,i=e.maxbins||20,f=e.minbins||4,c=+r-+n,s=e.unit?t[e.unit]:t.find(c,f,i),l=a({min:null!=s.min?s.min:s.unit(n),max:null!=s.max?s.max:s.unit(r),maxbins:i,minstep:s.minstep,steps:s.step});return l.unit=s,l.index=d,e.raw||(l.value=o),l},t.exports=a},{"../time":13,"../util":14}],10:[function(e,t,n){var a=t.exports={};a.repeat=function(e,t){var n,a=Array(t);for(n=0;t>n;++n)a[n]=e;return a},a.zeros=function(e){return a.repeat(0,e)},a.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var a,r=[],i=-1;if(0>n)for(;(a=e+n*++i)>t;)r.push(a);else for(;(a=e+n*++i)<t;)r.push(a);return r},a.random={},a.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,r=function(){return e+n*Math.random()};return r.samples=function(e){return a.zeros(e).map(r)},r},a.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,r=function(){return e+Math.floor(n*Math.random())};return r.samples=function(e){return a.zeros(e).map(r)},r},a.random.normal=function(e,t){e=e||0,t=t||1;var n,r=function(){var a,r,i=0,f=0;if(void 0!==n)return i=n,n=void 0,i;do i=2*Math.random()-1,f=2*Math.random()-1,a=i*i+f*f;while(0===a||a>1);return r=Math.sqrt(-2*Math.log(a)/a),n=e+f*r*t,e+i*r*t};return r.samples=function(e){return a.zeros(e).map(r)},r}},{}],11:[function(e,t,n){function a(e,t){return t?void(e[c]=t):e&&e[c]||null}function r(e,t){e=d.array(e),t=d.$(t);var n,a,r;if(e[c]&&(n=t(e[c]),d.isString(n)))return n;for(a=0,r=e.length;!d.isValid(n)&&r>a;++a)n=t?t(e[a]):e[a];return d.isDate(n)?"date":d.isNumber(n)?"number":d.isBoolean(n)?"boolean":d.isString(n)?"string":null}function i(e,t){return e.length?(t=t||d.keys(e[0]),t.reduce(function(t,n){return t[n]=r(e,n),t},{})):void 0}function f(e,t){e=d.array(e),t=d.$(t);var n,a,r,i=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(r=t?t(e[n]):e[n],a=0;a<i.length;++a)d.isValid(r)&&!s[i[a]](r)&&(i.splice(a,1),a-=1);if(0===i.length)return"string"}return i[0]}function o(e,t){return t=t||d.keys(e[0]),t.reduce(function(t,n){return t[n]=f(e,n),t},{})}var d=e("../util"),c="__types__",u={"boolean":d["boolean"],integer:d.number,number:d.number,date:d.date,string:function(e){return""===e?null:e}},s={"boolean":function(e){return"true"===e||"false"===e||d.isBoolean(e)},integer:function(e){return s.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!d.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};r.annotation=a,r.all=i,r.infer=f,r.inferAll=o,r.parsers=u,t.exports=r},{"../util":14}],12:[function(e,t,n){var a=e("./util"),r=e("./import/type"),i=e("./generate"),f={};f.unique=function(e,t,n){t=a.$(t),n=n||[];var r,i,f,o={};for(i=0,f=e.length;f>i;++i)r=t?t(e[i]):e[i],r in o||(o[r]=1,n.push(r));return n},f.count=function(e){return e&&e.length||0},f.count.valid=function(e,t){t=a.$(t);var n,r,i,f=0;for(r=0,i=e.length;i>r;++r)n=t?t(e[r]):e[r],a.isValid(n)&&(f+=1);return f},f.count.missing=function(e,t){t=a.$(t);var n,r,i,f=0;for(r=0,i=e.length;i>r;++r)n=t?t(e[r]):e[r],null==n&&(f+=1);return f},f.count.distinct=function(e,t){t=a.$(t);var n,r,i,f={},o=0;for(r=0,i=e.length;i>r;++r)n=t?t(e[r]):e[r],n in f||(f[n]=1,o+=1);return o},f.count.map=function(e,t){t=a.$(t);var n,r,i,f={};for(r=0,i=e.length;i>r;++r)n=t?t(e[r]):e[r],f[n]=n in f?f[n]+1:1;return f},f.median=function(e,t){return t&&(e=e.map(a.$(t))),e=e.filter(a.isValid).sort(a.cmp),f.quantile(e,.5)},f.quartile=function(e,t){t&&(e=e.map(a.$(t))),e=e.filter(a.isValid).sort(a.cmp);var n=f.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},f.quantile=function(e,t,n){void 0===n&&(n=t,t=a.identity),t=a.$(t);var r=(e.length-1)*n+1,i=Math.floor(r),f=+t(e[i-1]),o=r-i;return o?f+o*(t(e[i])-f):f},f.sum=function(e,t){t=a.$(t);for(var n,r=0,i=0,f=e.length;f>i;++i)n=t?t(e[i]):e[i],a.isValid(n)&&(r+=n);return r},f.mean=function(e,t){t=a.$(t);var n,r,i,f,o,d=0;for(r=0,f=0,i=e.length;i>r;++r)o=t?t(e[r]):e[r],a.isValid(o)&&(n=o-d,d+=n/++f);return d},f.variance=function(e,t){if(t=a.$(t),!a.isArray(e)||e.length<2)return 0;var n,r,i,f,o=0,d=0;for(r=0,i=0;r<e.length;++r)f=t?t(e[r]):e[r],a.isValid(f)&&(n=f-o,o+=n/++i,d+=n*(f-o));return d/=i-1},f.stdev=function(e,t){return Math.sqrt(f.variance(e,t))},f.modeskew=function(e,t){var n=f.mean(e,t),a=f.median(e,t),r=f.stdev(e,t);return 0===r?0:(n-a)/r},f.min=function(e,t){return f.extent(e,t)[0]},f.max=function(e,t){return f.extent(e,t)[1]},f.extent=function(e,t){t=a.$(t);var n,r,i,f,o=e.length;for(f=0;o>f;++f)if(i=t?t(e[f]):e[f],a.isValid(i)){n=r=i;break}for(;o>f;++f)i=t?t(e[f]):e[f],a.isValid(i)&&(n>i&&(n=i),i>r&&(r=i));return[n,r]},f.extent.index=function(e,t){t=a.$(t);var n,r,i,f,o=-1,d=-1,c=e.length;for(f=0;c>f;++f)if(i=t?t(e[f]):e[f],a.isValid(i)){n=r=i,o=d=f;break}for(;c>f;++f)i=t?t(e[f]):e[f],a.isValid(i)&&(n>i&&(n=i,o=f),i>r&&(r=i,d=f));return[o,d]},f.dot=function(e,t,n){var r,i,f=0;if(n)for(t=a.$(t),n=a.$(n),r=0;r<e.length;++r)i=t(e[r])*n(e[r]),i===i&&(f+=i);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(r=0;r<e.length;++r)i=e[r]*t[r],i===i&&(f+=i)}return f},f.rank=function(e,t){t=a.$(t)||a.identity;var n,r,i,f=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(a.comparator("val")),o=e.length,d=Array(o),c=-1,u={};for(n=0;o>n;++n){if(r=f[n].val,0>c&&u===r)c=n-1;else if(c>-1&&u!==r){for(i=1+(n-1+c)/2;n>c;++c)d[f[c].idx]=i;c=-1}d[f[n].idx]=n+1,u=r}if(c>-1)for(i=1+(o-1+c)/2;o>c;++c)d[f[c].idx]=i;return d},f.cor=function(e,t,n){var r=n;n=r?e.map(a.$(n)):t,t=r?e.map(a.$(t)):e;var i=f.dot(t,n),o=f.mean(t),d=f.mean(n),c=f.stdev(t),u=f.stdev(n),s=e.length;return(i-s*o*d)/((s-1)*c*u)},f.cor.rank=function(e,t,n){var r,i,o,d=n?f.rank(e,a.$(t)):f.rank(e),c=n?f.rank(e,a.$(n)):f.rank(t),u=e.length;for(r=0,i=0;u>r;++r)o=d[r]-c[r],i+=o*o;return 1-6*i/(u*(u*u-1))},f.cor.dist=function(e,t,n){var r,i,o,d,c=n?e.map(a.$(t)):e,u=n?e.map(a.$(n)):t,s=f.dist.mat(c),l=f.dist.mat(u),b=s.length;for(r=0,i=0,o=0,d=0;b>r;++r)i+=s[r]*s[r],o+=l[r]*l[r],d+=s[r]*l[r];return Math.sqrt(d/Math.sqrt(i*o))},f.dist=function(e,t,n,r){var i,f,o=a.isFunction(n)||a.isString(n),d=e,c=o?e:t,u=o?r:n,s=2===u||null==u,l=e.length,b=0;for(o&&(t=a.$(t),n=a.$(n)),f=0;l>f;++f)i=o?t(d[f])-n(c[f]):d[f]-c[f],b+=s?i*i:Math.pow(Math.abs(i),u);return s?Math.sqrt(b):Math.pow(b,1/u)},f.dist.mat=function(e){var t,n,a,r=e.length,f=r*r,o=Array(f),d=i.zeros(r),c=0;for(n=0;r>n;++n)for(o[n*r+n]=0,a=n+1;r>a;++a)o[n*r+a]=t=Math.abs(e[n]-e[a]),o[a*r+n]=t,d[n]+=t,d[a]+=t;for(n=0;r>n;++n)c+=d[n],d[n]/=r;for(c/=f,n=0;r>n;++n)for(a=n;r>a;++a)o[n*r+a]+=c-d[n]-d[a],o[a*r+n]=o[n*r+a];return o},f.entropy=function(e,t){t=a.$(t);var n,r,i=0,f=0,o=e.length;for(n=0;o>n;++n)i+=t?t(e[n]):e[n];if(0===i)return 0;for(n=0;o>n;++n)r=(t?t(e[n]):e[n])/i,r&&(f+=r*Math.log(r));return-f/Math.LN2},f.mutual=function(e,t,n,r){var i,f,o,d=r?e.map(a.$(t)):e,c=r?e.map(a.$(n)):t,u=r?e.map(a.$(r)):n,s={},l={},b=u.length,h=0,p=0,m=0;for(o=0;b>o;++o)s[d[o]]=0,
l[c[o]]=0;for(o=0;b>o;++o)s[d[o]]+=u[o],l[c[o]]+=u[o],h+=u[o];for(f=1/(h*Math.LN2),o=0;b>o;++o)0!==u[o]&&(i=h*u[o]/(s[d[o]]*l[c[o]]),p+=u[o]*f*Math.log(i),m+=u[o]*f*Math.log(u[o]/h));return[p,1+p/m]},f.mutual.info=function(e,t,n,a){return f.mutual(e,t,n,a)[0]},f.mutual.dist=function(e,t,n,a){return f.mutual(e,t,n,a)[1]},f.profile=function(e,t){var n,i,o,d,c,u=0,s=0,l=0,b=0,h=null,p=null,m=0,g=[],y={};for(o=0;o<e.length;++o)d=t?t(e[o]):e[o],y[d]=d in y?y[d]+1:(b+=1,1),null==d?++l:a.isValid(d)&&(c="string"==typeof d?d.length:d,(null===h||h>c)&&(h=c),(null===p||c>p)&&(p=c),n=c-u,u+=n/++s,m+=n*(c-u),g.push(c));return m/=s-1,i=Math.sqrt(m),g.sort(a.cmp),{type:r(e,t),unique:y,count:e.length,valid:s,missing:l,distinct:b,min:h,max:p,mean:u,stdev:i,median:d=f.quantile(g,.5),q1:f.quantile(g,.25),q3:f.quantile(g,.75),modeskew:0===i?0:(u-d)/i}},f.summary=function(e,t){t=t||a.keys(e[0]);var n=t.map(function(t){var n=f.profile(e,a.$(t));return n.field=t,n});return n.__summary__=!0,n},t.exports=f},{"./generate":10,"./import/type":11,"./util":14}],13:[function(e,t,n){function a(e){return c.setTime(+e),c}function r(e,t,n,a,r,i){var f={type:e,date:t,unit:n};return a?f.step=a:f.minstep=1,null!=r&&(f.min=r),null!=i&&(f.max=i),f}function i(e,t,n,a,i,f){return r(e,function(e){return t.offset(n,e)},function(e){return t.count(n,e)},a,i,f)}function f(e,t,n,a){var r,i,f,o=h[0];for(r=1,i=h.length;i>r;++r)if(o=h[r],t>o[0]){if(f=t/o[0],f>a)return e[h[r-1][1]];if(f>=n)return e[o[1]]}return e[h[i-1][1]]}function o(e){var t,n,a={};for(t=0,n=e.length;n>t;++t)a[e[t].type]=e[t];return a.find=function(t,n,a){return f(e,t,n,a)},a}var d=e("d3-time"),c=new Date,u=new Date(0,0,1).setFullYear(0),s=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),l=[i("second",d.second,u),i("minute",d.minute,u),i("hour",d.hour,u),i("day",d.day,u,[1,7]),i("month",d.month,u,[1,3,6]),i("year",d.year,u),r("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return a(e).getSeconds()},null,0,59),r("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return a(e).getMinutes()},null,0,59),r("hours",function(e){return new Date(1970,0,1,e)},function(e){return a(e).getHours()},null,0,23),r("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return a(e).getDay()},[1],0,6),r("dates",function(e){return new Date(1970,0,e)},function(e){return a(e).getDate()},[1],1,31),r("months",function(e){return new Date(1970,e%12,1)},function(e){return a(e).getMonth()},[1],0,11)],b=[i("second",d.utcSecond,s),i("minute",d.utcMinute,s),i("hour",d.utcHour,s),i("day",d.utcDay,s,[1,7]),i("month",d.utcMonth,s,[1,3,6]),i("year",d.utcYear,s),r("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return a(e).getUTCSeconds()},null,0,59),r("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return a(e).getUTCMinutes()},null,0,59),r("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return a(e).getUTCHours()},null,0,23),r("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return a(e).getUTCDay()},[1],0,6),r("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return a(e).getUTCDate()},[1],1,31),r("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return a(e).getUTCMonth()},[1],0,11)],h=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];t.exports=o(l),t.exports.utc=o(b)},{"d3-time":8}],14:[function(e,t,n){function a(e){return e.replace(l,"$1\\'")}function r(e,t){var n,a="";for(n=0;e>n;++n)a+=t;return a}function i(e,t,n){var a=0,r=e.split(h);return e=n?(r=r.reverse()).filter(function(e){return a+=e.length,t>=a}).reverse():r.filter(function(e){return a+=e.length,t>=a}),e.length?e.join("").trim():r[0].slice(0,t)}var f=e("buffer"),o=e("./time"),d=o.utc,c=t.exports={},u="__name__";c.namedfunc=function(e,t){return t[u]=e,t},c.name=function(e){return null==e?null:e[u]},c.identity=function(e){return e},c["true"]=c.namedfunc("true",function(){return!0}),c["false"]=c.namedfunc("false",function(){return!1}),c.duplicate=function(e){return JSON.parse(JSON.stringify(e))},c.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},c.extend=function(e){for(var t,n,a=1,r=arguments.length;r>a;++a){t=arguments[a];for(n in t)e[n]=t[n]}return e},c.length=function(e){return null!=e&&null!=e.length?e.length:null},c.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},c.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},c.toMap=function(e,t){return(t=c.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},c.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),a=1;t>a;++a)n+="|"+String(e[a]);return n};var s=Object.prototype.toString;c.isObject=function(e){return e===Object(e)},c.isFunction=function(e){return"[object Function]"===s.call(e)},c.isString=function(e){return"string"==typeof value||"[object String]"===s.call(e)},c.isArray=Array.isArray||function(e){return"[object Array]"===s.call(e)},c.isNumber=function(e){return"number"==typeof e||"[object Number]"===s.call(e)},c.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==s.call(e)},c.isDate=function(e){return"[object Date]"===s.call(e)},c.isValid=function(e){return null!=e&&e===e},c.isBuffer=f.Buffer&&f.Buffer.isBuffer||c["false"],c.number=function(e){return null==e||""===e?null:+e},c["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},c.date=function(e){return null==e||""===e?null:Date.parse(e)},c.array=function(e){return null!=e?c.isArray(e)?e:[e]:[]},c.str=function(e){return c.isArray(e)?"["+e.map(c.str)+"]":c.isObject(e)?JSON.stringify(e):c.isString(e)?"'"+a(e)+"'":e};var l=/(^|[^\\])'/g,b=/\[(.*?)\]|[^.\[]+/g;c.field=function(e){return String(e).match(b).map(function(e){return"["!==e[0]?e:"'"!==e[1]&&'"'!==e[1]?e.slice(1,-1):e.slice(2,-2).replace(/\\(["'])/g,"$1")})},c.accessor=function(e){var t;return null==e||c.isFunction(e)?e:c.namedfunc(e,(t=c.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},c.$=c.accessor,c.mutator=function(e){var t;return c.isString(e)&&(t=c.field(e)).length>1?function(e,n){for(var a=0;a<t.length-1;++a)e=e[t[a]];e[t[a]]=n}:function(t,n){t[e]=n}},c.$func=function(e,t){return function(n){n=c.$(n)||c.identity;var a=e+(c.name(n)?"_"+c.name(n):"");return c.namedfunc(a,function(e){return t(n(e))})}},c.$valid=c.$func("valid",c.isValid),c.$length=c.$func("length",c.length),c.$in=function(e,t){e=c.$(e);var n=c.isArray(t)?c.toMap(t):t;return function(t){return!!n[e(t)]}},c.$year=c.$func("year",o.year.unit),c.$month=c.$func("month",o.months.unit),c.$date=c.$func("date",o.dates.unit),c.$day=c.$func("day",o.weekdays.unit),c.$hour=c.$func("hour",o.hours.unit),c.$minute=c.$func("minute",o.minutes.unit),c.$second=c.$func("second",o.seconds.unit),c.$utcYear=c.$func("utcYear",d.year.unit),c.$utcMonth=c.$func("utcMonth",d.months.unit),c.$utcDate=c.$func("utcDate",d.dates.unit),c.$utcDay=c.$func("utcDay",d.weekdays.unit),c.$utcHour=c.$func("utcHour",d.hours.unit),c.$utcMinute=c.$func("utcMinute",d.minutes.unit),c.$utcSecond=c.$func("utcSecond",d.seconds.unit),c.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=c.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),c.accessor(e)}),function(n,a){var r,i,f,o,d;for(r=0,i=e.length;i>r;++r){if(f=e[r],o=f(n),d=f(a),d>o)return-1*t[r];if(o>d)return t[r]}return 0}},c.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:NaN},c.numcmp=function(e,t){return e-t},c.stablesort=function(e,t,n){var a=e.reduce(function(e,t,a){return e[n(t)]=a,e},{});return e.sort(function(e,r){var i=t(e),f=t(r);return f>i?-1:i>f?1:a[n(e)]-a[n(r)]}),e},c.pad=function(e,t,n,a){a=a||" ";var i=t-e.length;if(0>=i)return e;switch(n){case"left":return r(i,a)+e;case"middle":case"center":return r(Math.floor(i/2),a)+e+r(Math.ceil(i/2),a);default:return e+r(i,a)}},c.truncate=function(e,t,n,a,r){var f=e.length;if(t>=f)return e;r=void 0!==r?String(r):"…";var o=Math.max(0,t-r.length);switch(n){case"left":return r+(a?i(e,o,1):e.slice(f-o));case"middle":case"center":var d=Math.ceil(o/2),c=Math.floor(o/2);return(a?i(e,d):e.slice(0,d))+r+(a?i(e,c,1):e.slice(f-c));default:return(a?i(e,o):e.slice(0,o))+r}};var h=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/},{"./time":13,buffer:1}],15:[function(e,t,n){n.AGGREGATE_OPS=["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","modeskew","min","max","argmin","argmax"],n.SHARED_DOMAIN_OPS=["mean","average","stdev","stdevp","median","q1","q3","min","max"]},{}],16:[function(e,t,n){n.MAXBINS_DEFAULT=15},{}],17:[function(e,t,n){function a(e){switch(e){case n.X:case n.Y:case n.COLOR:return{measure:!0,dimension:!0};case n.ROW:case n.COLUMN:case n.SHAPE:case n.DETAIL:return{measure:!1,dimension:!0};case n.SIZE:case n.TEXT:return{measure:!0,dimension:!1}}throw new Error("Invalid encoding channel"+e)}n.X="x",n.Y="y",n.ROW="row",n.COLUMN="column",n.SHAPE="shape",n.SIZE="size",n.COLOR="color",n.TEXT="text",n.DETAIL="detail",n.CHANNELS=[n.X,n.Y,n.ROW,n.COLUMN,n.SIZE,n.SHAPE,n.COLOR,n.TEXT,n.DETAIL],n.getSupportedRole=a},{}],18:[function(e,t,n){var a=e("../bin"),r=e("../channel"),i=e("../data"),f=e("../fielddef"),o=e("../encoding"),d=e("../marktype"),c=e("../schema/schema"),u=e("../schema/schemautil"),s=e("../type"),l=e("../util"),b=function(){function e(e,t){this.numberFormat=function(e){return this.config("numberFormat")};var n=c.instantiate();this._spec=u.merge(n,t||{},e),this._stack=this.getStackProperties(),o.forEach(this._spec.encoding,function(e){e.type&&(e.type=s.getFullName(e.type))})}return e.prototype.getStackProperties=function(){var e=this.has(r.COLOR)?r.COLOR:this.has(r.DETAIL)?r.DETAIL:null;if(e&&(this.is(d.BAR)||this.is(d.AREA))&&this.config("stack")!==!1&&this.isAggregate()){var t=this.isMeasure(r.X),n=this.isMeasure(r.Y);if(t&&!n)return{groupbyChannel:r.Y,fieldChannel:r.X,stackChannel:e,config:this.config("stack")};if(n&&!t)return{groupbyChannel:r.X,fieldChannel:r.Y,stackChannel:e,config:this.config("stack")}}return null},e.prototype.stack=function(){return this._stack},e.prototype.toSpec=function(e,t){var n,a=l.duplicate(this._spec.encoding);n={marktype:this._spec.marktype,encoding:a},e||(n.config=l.duplicate(this._spec.config)),t||(n.data=l.duplicate(this._spec.data));var r=c.instantiate();return u.subtract(n,r)},e.prototype.marktype=function(){return this._spec.marktype},e.prototype.is=function(e){return this._spec.marktype===e},e.prototype.has=function(e){return void 0!==this._spec.encoding[e].field},e.prototype.fieldDef=function(e){return this._spec.encoding[e]},e.prototype.fieldRef=function(e,t){return t=t||{},f.fieldRef(this._spec.encoding[e],t)},e.prototype.fields=function(){return o.fields(this._spec.encoding)},e.prototype.fieldTitle=function(e){if(f.isCount(this._spec.encoding[e]))return f.COUNT_DISPLAYNAME;var t=this._spec.encoding[e].aggregate||this._spec.encoding[e].timeUnit||this._spec.encoding[e].bin&&"bin";return t?t.toUpperCase()+"("+this._spec.encoding[e].field+")":this._spec.encoding[e].field},e.prototype.bandWidth=function(e,t){return void 0!==this.fieldDef(e).scale.bandWidth?this.fieldDef(e).scale.bandWidth:(t=t||e===r.Y&&this.has(r.ROW)&&this.has(r.Y)||e===r.X&&this.has(r.COLUMN)&&this.has(r.X),this.config(t?"smallBandWidth":"largeBandWidth"))},e.prototype.padding=function(e){return void 0!==this.fieldDef(e).scale.padding?this.fieldDef(e).scale.padding:e===r.ROW||e===r.COLUMN?this.config("cellPadding"):this.config("padding")},e.prototype.bin=function(e){var t=this._spec.encoding[e].bin;return t==={}?!1:t===!0?{maxbins:a.MAXBINS_DEFAULT}:t},e.prototype.map=function(e){return o.map(this._spec.encoding,e)},e.prototype.reduce=function(e,t){return o.reduce(this._spec.encoding,e,t)},e.prototype.forEach=function(e){return o.forEach(this._spec.encoding,e)},e.prototype.isTypes=function(e,t){var n=this.fieldDef(e);return n&&f.isTypes(n,t)},e.prototype.isOrdinalScale=function(e){return this.has(e)&&f.isOrdinalScale(this.fieldDef(e))},e.prototype.isDimension=function(e){return this.has(e)&&f.isDimension(this.fieldDef(e))},e.prototype.isMeasure=function(e){return this.has(e)&&f.isMeasure(this.fieldDef(e))},e.prototype.isAggregate=function(){return o.isAggregate(this._spec.encoding)},e.prototype.dataTable=function(){return this.isAggregate()?i.SUMMARY:i.SOURCE},e.prototype.details=function(){var e=this;return this.reduce(function(t,n,a){return n.aggregate||a===r.X||a===r.Y||t.push(e.fieldRef(a)),t},[])},e.prototype.facets=function(){var e=this;return this.reduce(function(t,n,a){return n.aggregate||a!==r.ROW&&a!==r.COLUMN||t.push(e.fieldRef(a)),t},[])},e.prototype.cardinality=function(e,t){return f.cardinality(this.fieldDef(e),t,this.config("filterNull"))},e.prototype.data=function(){return this._spec.data},e.prototype.hasValues=function(){var e=this.data().values;return e&&e.length},e.prototype.config=function(e){return this._spec.config[e]},e}();n.Model=b},{"../bin":16,"../channel":17,"../data":31,"../encoding":32,"../fielddef":33,"../marktype":34,"../schema/schema":44,"../schema/schemautil":45,"../type":50,"../util":51}],19:[function(e,t,n){function a(e,t,a,r){var i=e===m.COLUMN,f=e===m.ROW,o=i?"x":f?"y":e,d={type:o,scale:e};["format","grid","layer","offset","orient","tickSize","ticks","title","titleOffset","tickPadding","tickSize","tickSizeMajor","tickSizeMinor","tickSizeEnd","values","subdivide"].forEach(function(i){var f,o=(f=n[i])?f(t,e,a,r,d):t.fieldDef(e).axis[i];void 0!==o&&(d[i]=o)});var c=t.fieldDef(e).axis.properties||{};return["axis","grid","labels","title","ticks","majorTicks","minorTicks"].forEach(function(n){var r=y[n]?y[n](t,e,c[n],a,d):c[n];void 0!==r&&(d.properties=d.properties||{},d.properties[n]=r)}),d}function r(e,t){var n=e.fieldDef(t),a=n.axis.format;if(void 0!==a)return a;if(n.type===p.QUANTITATIVE)return e.numberFormat(t);if(n.type===p.TEMPORAL){var r=n.timeUnit;if(!r)return e.config("timeFormat");if("year"===r)return"d"}}function i(e,t){var n=e.fieldDef(t).axis.grid;return void 0!==n?n:t===m.ROW||t===m.COLUMN||e.isTypes(t,[p.QUANTITATIVE,p.TEMPORAL])&&!e.fieldDef(t).bin}function f(e,t,n,a,r){var i=e.fieldDef(t).axis.layer;return void 0!==i?i:r.grid?"back":void 0}function o(e,t,n){var a=e.fieldDef(t).axis.offset;return a?a:t===m.ROW?n.y.axisTitleOffset+20:void 0}function d(e,t,n,a){var r=e.fieldDef(t).axis.orient;return r?r:t===m.COLUMN?"top":t===m.X&&e.has(m.Y)&&e.isOrdinalScale(m.Y)&&e.cardinality(m.Y,a)>30?"top":void 0}function c(e,t){var n=e.fieldDef(t).axis.ticks;return void 0!==n?n:t!==m.X||e.fieldDef(t).bin?void 0:5}function u(e,t){var n=e.fieldDef(t).axis.tickSize;return void 0!==n?n:t===m.ROW||t===m.COLUMN?0:void 0}function s(e,t,n){var a=e.fieldDef(t).axis;if(void 0!==a.title)return a.title;var r,i=e.fieldTitle(t);return a.titleMaxLength?r=a.titleMaxLength:t===m.X?r=n.cellWidth/e.config("characterWidth"):t===m.Y&&(r=n.cellHeight/e.config("characterWidth")),r?h.truncate(i,r):i}function l(e,t){var n=e.fieldDef(t).axis.titleOffset;if(n)return n;switch(t){case m.ROW:return 0;case m.COLUMN:return 35}}var b=e("../util"),h=e("../util"),p=e("../type"),m=e("../channel"),g=e("./time");n.compileAxis=a,n.format=r,n.grid=i,n.layer=f,n.offset=o,n.orient=d,n.ticks=c,n.tickSize=u,n.title=s,n.titleOffset=l;var y;!function(e){function t(e,t,n){return t===m.ROW||t===m.COLUMN?h.extend({opacity:{value:0}},n||{}):n||void 0}function n(e,t,n,a,r){var i=a.cellPadding;if(r.grid){if(t===m.COLUMN){var f=e.config("cellGridOffset"),o="bottom"===e.fieldDef(t).axis.orient?-1:1;return h.extend({x:{offset:b.roundFloat(a.cellWidth*(1+i/2)),scale:"column",field:"data"},y:{value:-o*f},y2:{field:{group:"mark.group.height"},offset:o*f,mult:o},stroke:{value:e.config("cellGridColor")},strokeOpacity:{value:e.config("cellGridOpacity")}},n||{})}if(t===m.ROW){var d=e.config("cellGridOffset"),o="right"===e.fieldDef(t).axis.orient?-1:1;return h.extend({y:{offset:b.roundFloat(-a.cellHeight*(i/2)),scale:"row",field:"data"},x:{value:o*(r.offset-d)},x2:{field:{group:"mark.group.width"},offset:o*(r.offset+d),mult:o},stroke:{value:e.config("cellGridColor")},strokeOpacity:{value:e.config("cellGridOpacity")}},n||{})}return h.extend({stroke:{value:e.config("gridColor")},strokeOpacity:{value:e.config("gridOpacity")}},n||{})}return n||void 0}function a(e,t,n,a,r){var i=e.fieldDef(t),f=i.timeUnit;return i.type===p.TEMPORAL&&f&&g.hasScale(f)&&(n=h.extend({text:{scale:"time-"+f,field:"data"}},n||{})),e.isTypes(t,[p.NOMINAL,p.ORDINAL])&&i.axis.labelMaxLength&&(n=h.extend({text:{template:"{{ datum.data | truncate:"+i.axis.labelMaxLength+"}}"}},n||{})),t===m.X&&(e.isDimension(m.X)||i.type===p.TEMPORAL)&&(n=h.extend({angle:{value:270},align:{value:"top"===r.orient?"left":"right"},baseline:{value:"middle"}},n||{})),n||void 0}function r(e,t,n,a){return t===m.ROW?h.extend({angle:{value:0},align:{value:"right"},baseline:{value:"middle"},dy:{value:-a.height/2-20}},n||{}):n||void 0}e.axis=t,e.grid=n,e.labels=a,e.title=r}(y||(y={}))},{"../channel":17,"../type":50,"../util":51,"./time":30}],20:[function(e,t,n){function a(e,t,n){var a=new r.Model(e,n);t||(a.hasValues()?t=m.stats(a.data().values):console.error("No stats provided and data is not embedded."));var y=l["default"](a,t),v={width:y.width,height:y.height,padding:"auto",data:o.compileData(a),marks:[{name:"cell",type:"group",properties:{enter:{width:y.cellWidth?{value:y.cellWidth}:{field:{group:"width"}},height:y.cellHeight?{value:y.cellHeight}:{field:{group:"height"}}}}}]},M=i.scales(a);M.length>0&&(v.scales=M);var O=v.marks[0],T=h["default"](a,t),x=O.marks=c.compileMarks(a,y,T),S=x[x.length-1],A=a.stack();A&&b["default"](a,S,A);var D=a.marktype(),R="line"===D||"area"===D,w=a.details();if(w.length>0&&R&&p["default"](O,S,w),R&&a.config("autoSortLine")){var k=a.isMeasure(g.X)&&a.isDimension(g.Y)?g.Y:g.X;S.from||(S.from={}),S.from.transform=[{type:"sort",by:"-"+a.fieldRef(k)}]}var N=[].concat.apply([],x.map(function(e){return u.compileScaleNames(e.properties.update)})),C=d.compileLegends(a,T);if(a.has(g.ROW)||a.has(g.COLUMN))v=s["default"](O,a,y,v,N,t),C.length>0&&(v.legends=C);else{O.scales=u.compileScales(N,a,y,t);var L=[];a.has(g.X)&&L.push(f.compileAxis(g.X,a,y,t)),a.has(g.Y)&&L.push(f.compileAxis(g.Y,a,y,t)),L.length>0&&(O.axes=L),C.length>0&&(O.legends=C)}return{spec:v}}var r=e("./Model"),i=e("./time"),f=e("./axis"),o=e("./data"),d=e("./legend"),c=e("./marks"),u=e("./scale"),s=e("./facet"),l=e("./layout"),b=e("./stack"),h=e("./style"),p=e("./subfacet"),m=e("../data"),g=e("../channel"),y=e("./Model");n.Model=y.Model,n.compile=a},{"../channel":17,"../data":31,"./Model":18,"./axis":19,"./data":21,"./facet":22,"./layout":23,"./legend":24,"./marks":25,"./scale":26,"./stack":27,"./style":28,"./subfacet":29,"./time":30}],21:[function(e,t,n){function a(e){var t=[s.def(e)],n=l.def(e);n&&t.push(n),r(t[t.length-1],e);var a=e.stack();return a&&t.push(b.def(e,a)),t}function r(e,t){t.forEach(function(n,a){"log"===t.fieldDef(a).scale.type&&e.transform.push({type:"filter",test:t.fieldRef(a,{datum:1})+" > 0"})})}var i=e("../fielddef"),f=e("../util"),o=e("../bin"),d=e("../data"),c=e("./time"),u=e("../type");n.compileData=a;var s;!function(e){function t(e){var t={name:d.SOURCE};e.hasValues()?(t.values=e.data().values,t.format={type:"json"}):(t.url=e.data().url,t.format={type:e.data().formatType});var r=n(e);return r&&(t.format.parse=r),t.transform=a(e),t}function n(e){var t;return e.forEach(function(e){if(e.type===u.TEMPORAL)t=t||{},t[e.field]="date";else if(e.type===u.QUANTITATIVE){if(i.isCount(e))return;t=t||{},t[e.field]="number"}}),t}function a(e){return l(e).concat(h(e),r(e),s(e),b(e))}function r(e){return e.reduce(function(t,n,a){if(n.type===u.TEMPORAL&&n.timeUnit){var r=e.fieldRef(a,{nofn:!0,datum:!0});t.push({type:"formula",field:e.fieldRef(a),expr:c.formula(n.timeUnit,r)})}return t},[])}function s(e){return e.reduce(function(t,n,a){var r=e.bin(a);return r&&(t.push({type:"bin",field:n.field,output:{start:e.fieldRef(a,{binSuffix:"_start"}),end:e.fieldRef(a,{binSuffix:"_end"})},maxbins:"boolean"==typeof r?o.MAXBINS_DEFAULT:r.maxbins}),t.push({type:"formula",field:e.fieldRef(a,{binSuffix:"_mid"}),expr:"("+e.fieldRef(a,{datum:1,binSuffix:"_start"})+"+"+e.fieldRef(a,{datum:1,binSuffix:"_end"})+")/2"})),t},[])}function l(e){var t=f.reduce(e.fields(),function(t,n,a){return"*"===a?t:((e.config("filterNull").quantitative&&n.containsType[u.QUANTITATIVE]||e.config("filterNull").temporal&&n.containsType[u.TEMPORAL]||e.config("filterNull").ordinal&&n.containsType[u.ORDINAL]||e.config("filterNull").nominal&&n.containsType[u.NOMINAL])&&t.push(a),t)},[]);return t.length>0?[{type:"filter",test:t.map(function(e){return"datum."+e+"!==null"}).join(" && ")}]:[]}function b(e){var t=e.data().filter;return t?[{type:"filter",test:t}]:[]}function h(e){var t=e.data().calculate;return void 0===t?[]:t.reduce(function(e,t){return e.push(f.extend({type:t},t)),e},[])}e.def=t,e.transform=a,e.timeTransform=r,e.binTransform=s,e.nullFilterTransform=l,e.filterTransform=b,e.formulaTransform=h}(s=n.source||(n.source={}));var l;!function(e){function t(e){var t={},n={},a=!1;e.forEach(function(r,i){r.aggregate?(a=!0,"count"===r.aggregate?(n["*"]=n["*"]||{},n["*"].count=!0):(n[r.field]=n[r.field]||{},n[r.field][r.aggregate]=!0)):r.bin?(t[e.fieldRef(i,{binSuffix:"_start"})]=e.fieldRef(i,{binSuffix:"_start"}),t[e.fieldRef(i,{binSuffix:"_mid"})]=e.fieldRef(i,{binSuffix:"_mid"}),t[e.fieldRef(i,{binSuffix:"_end"})]=e.fieldRef(i,{binSuffix:"_end"})):t[r.field]=e.fieldRef(i)});var r=f.vals(t),i=f.reduce(n,function(e,t,n){return e[n]=f.keys(t),e},{});return a?{name:d.SUMMARY,source:d.SOURCE,transform:[{type:"aggregate",groupby:r,summarize:i}]}:null}e.def=t}(l=n.summary||(n.summary={}));var b;!function(e){function t(e,t){var n=t.groupbyChannel,a=t.fieldChannel,r=e.facets(),i={name:d.STACKED,source:e.dataTable(),transform:[{type:"aggregate",groupby:[e.fieldRef(n)].concat(r),summarize:[{ops:["sum"],field:e.fieldRef(a)}]}]};return r&&r.length>0&&i.transform.push({type:"aggregate",groupby:r,summarize:[{ops:["max"],field:e.fieldRef(a,{prefn:"sum_"})}]}),i}e.def=t}(b=n.stack||(n.stack={})),n.filterNonPositive=r},{"../bin":16,"../data":31,"../fielddef":33,"../type":50,"../util":51,"./time":30}],22:[function(e,t,n){function a(e,t){t=t||{};var n={name:e||void 0,type:"group",properties:{enter:{width:t.width||{field:{group:"width"}},height:t.height||{field:{group:"height"}}}}};return t.from&&(n.from=t.from),t.x&&(n.properties.enter.x=t.x),t.y&&(n.properties.enter.y=t.y),t.axes&&(n.axes=t.axes),n}function r(e,t,n,r,c,u){var s,l,b=e.properties.enter,h=[],p=[],m=t.has(f.ROW),g=t.has(f.COLUMN);b.fill={value:t.config("cellBackgroundColor")},e.from={data:e.marks[0].from.data};for(var y=0;y<e.marks.length;y++){var v=e.marks[y];v.from.transform?delete v.from.data:delete v.from}m?(t.isDimension(f.ROW)||i.error("Row encoding should be ordinal."),b.y={scale:f.ROW,field:t.fieldRef(f.ROW)},b.height={value:n.cellHeight},h.push(t.fieldRef(f.ROW)),g&&(s=i.duplicate(e.from),s.transform=s.transform||[],s.transform.unshift({type:"facet",groupby:[t.fieldRef(f.COLUMN)]})),l=a("x-axes",{axes:t.has(f.X)?[o.compileAxis(f.X,t,n,u)]:void 0,x:g?{scale:f.COLUMN,field:t.fieldRef(f.COLUMN)}:{value:0},width:g&&{value:n.cellWidth},from:s}),r.marks.unshift(l),r.axes=r.axes||[],r.axes.push(o.compileAxis(f.ROW,t,n,u))):t.has(f.X)&&p.push(o.compileAxis(f.X,t,n,u)),g?(t.isDimension(f.COLUMN)||i.error("Col encoding should be ordinal."),b.x={scale:f.COLUMN,field:t.fieldRef(f.COLUMN)},b.width={value:n.cellWidth},h.push(t.fieldRef(f.COLUMN)),m&&(s=i.duplicate(e.from),s.transform=s.transform||[],s.transform.unshift({type:"facet",groupby:[t.fieldRef(f.ROW)]})),l=a("y-axes",{axes:t.has(f.Y)?[o.compileAxis(f.Y,t,n,u)]:void 0,y:m&&{scale:f.ROW,field:t.fieldRef(f.ROW)},x:m&&{value:0},height:m&&{value:n.cellHeight},from:s}),r.marks.unshift(l),r.axes=r.axes||[],r.axes.push(o.compileAxis(f.COLUMN,t,n,u))):t.has(f.Y)&&p.push(o.compileAxis(f.Y,t,n,u)),r.scales=(r.scales||[]).concat(d.compileScales(d.compileScaleNames(b).concat(c),t,n,u,!0)),p.length>0&&(e.axes=p);var M=e.from.transform||(e.from.transform=[]);return M.unshift({type:"facet",groupby:h}),r}var i=e("../util"),f=e("../channel"),o=e("./axis"),d=e("./scale");Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},{"../channel":17,"../util":51,"./axis":19,"./scale":26}],23:[function(e,t,n){function a(e,t){var n=r(e,t);return n=o(e,t,n)}function r(e,t){var n,a,r=e.has(u.ROW),i=e.has(u.COLUMN),f=e.has(u.X),o=e.has(u.Y),d=e.marktype(),c=f&&e.isDimension(u.X)?e.cardinality(u.X,t):1,s=o&&e.isDimension(u.Y)?e.cardinality(u.Y,t):1,l=c>e.config("largeBandMaxCardinality")||s>e.config("largeBandMaxCardinality"),h=e.config("cellPadding");n=f?e.isOrdinalScale(u.X)?(c+e.padding(u.X))*e.bandWidth(u.X,l):i||r?e.fieldDef(u.COLUMN).width:e.config("singleWidth"):d===u.TEXT?e.config("textCellWidth"):e.bandWidth(u.X),a=o?e.isOrdinalScale(u.Y)?(s+e.padding(u.Y))*e.bandWidth(u.Y,l):i||r?e.fieldDef(u.ROW).height:e.config("singleHeight"):e.bandWidth(u.Y);var p=n,m=a;if(i){var g=e.cardinality(u.COLUMN,t);p=n*((1+h)*(g-1)+1)}if(r){var y=e.cardinality(u.ROW,t);m=a*((1+h)*(y-1)+1)}return{cellWidth:b.roundFloat(n),cellHeight:b.roundFloat(a),cellPadding:h,width:b.roundFloat(p),height:b.roundFloat(m),x:{useSmallBand:l},y:{useSmallBand:l}}}function i(e,t,n){var a=e.numberFormat(t);return d.format(a)(n.max).length}function f(e,t,n){var a=e.fieldDef(n),r=t[a.field];return a.bin?i(e,n,r):a.type===l.QUANTITATIVE?i(e,n,r):a.type===l.TEMPORAL?s.maxLength(e.fieldDef(n).timeUnit,e):e.isTypes(n,[l.NOMINAL,l.ORDINAL])?"number"===r.type?i(e,n,r):Math.min(r.max,a.axis.labelMaxLength||1/0):void 0}function o(e,t,n){return[u.X,u.Y].forEach(function(a){var r,i=a===u.X?20:22,o=e.fieldDef(a);e.isDimension(a)||o.type===l.TEMPORAL?r=f(e,t,a):(o.type===l.QUANTITATIVE||"count"===o.aggregate)&&a===u.Y&&(r=f(e,t,a)),r?c.setter(n,[a,"axisTitleOffset"],e.config("characterWidth")*r+i):c.setter(n,[a,"axisTitleOffset"],3*e.config("characterWidth")+i)}),n}var d=e("d3-format"),c=e("../util"),u=e("../channel"),s=e("./time"),l=e("../type"),b=e("../util");Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a},{"../channel":17,"../type":50,"../util":51,"./time":30,"d3-format":5}],24:[function(e,t,n){function a(e,t){var n=[];return e.has(o.COLOR)&&e.fieldDef(o.COLOR).legend&&n.push(r(e,o.COLOR,{fill:o.COLOR},t)),e.has(o.SIZE)&&e.fieldDef(o.SIZE).legend&&n.push(r(e,o.SIZE,{size:o.SIZE},t)),e.has(o.SHAPE)&&e.fieldDef(o.SHAPE).legend&&n.push(r(e,o.SHAPE,{shape:o.SHAPE},t)),n}function r(e,t,n,a){var r=e.fieldDef(t).legend;n.title=i(e,t),["orient","format","values"].forEach(function(e){var t=r[e];void 0!==t&&(n[e]=t)});var f=r.properties||{};return["title","labels","symbols","legend"].forEach(function(r){var i=u[r]?u[r](e,t,f[r],a):f[r];void 0!==i&&(n.properties=n.properties||{},n.properties[r]=i)}),n}function i(e,t){var n=e.fieldDef(t).legend;return n.title?n.title:e.fieldTitle(t)}var f=e("../util"),o=e("../channel"),d=e("./time"),c=e("../type");n.compileLegends=a,n.compileLegend=r,n.title=i;var u;!function(e){function t(e,t,n){var a=e.fieldDef(t),r=a.timeUnit;return a.type===c.TEMPORAL&&r&&d.hasScale(r)?f.extend({text:{scale:"time-"+r}},n||{}):n}function n(e,t,n,a){var r={},i=e.marktype();switch(i){case"bar":case"tick":case"text":r.stroke={value:"transparent"},r.shape={value:"square"};break;case"circle":case"square":r.shape={value:i};case"point":e.fieldDef(o.SHAPE).filled?(e.has(o.COLOR)&&t===o.COLOR?r.fill={scale:o.COLOR,field:"data"}:r.fill={value:e.fieldDef(o.COLOR).value},r.stroke={value:"transparent"}):(e.has(o.COLOR)&&t===o.COLOR?r.stroke={scale:o.COLOR,field:"data"}:r.stroke={value:e.fieldDef(o.COLOR).value},r.fill={value:"transparent"},r.strokeWidth={value:e.config("strokeWidth")});break;case"line":case"area":}var d=e.fieldDef(o.COLOR).opacity||a.opacity;return d&&(r.opacity={value:d}),r=f.extend(r,n||{}),f.keys(r).length>0?r:void 0}e.labels=t,e.symbols=n}(u||(u={}))},{"../channel":17,"../type":50,"../util":51,"./time":30}],25:[function(e,t,n){function a(e,t,a){var r=[],i=n[e.marktype()],f=e.dataTable();if(e.marktype()===s.TEXT&&e.has(s.COLOR)){var o={x:{value:0},y:{value:0},x2:{value:t.cellWidth},y2:{value:t.cellHeight},fill:{scale:s.COLOR,field:e.fieldRef(s.COLOR)}};r.push({type:"rect",from:{data:f},properties:{enter:o,update:o}})}var d=i.prop(e,t,a);return r.push({type:i.type,from:{data:f},properties:{update:d}}),r}function r(e,t,n){var a={};e.fieldDef(s.X).bin?(a.x={scale:s.X,field:e.fieldRef(s.X,{binSuffix:"_start"}),offset:1},a.x2={scale:s.X,field:e.fieldRef(s.X,{binSuffix:"_end"})}):e.isMeasure(s.X)?(a.x={scale:s.X,field:e.fieldRef(s.X)},(!e.has(s.Y)||e.isDimension(s.Y))&&(a.x2={value:0})):e.has(s.X)?a.xc={scale:s.X,field:e.fieldRef(s.X)}:a.x={value:0,offset:e.config("singleBarOffset")},a.x2||(!e.has(s.X)||e.isOrdinalScale(s.X)?e.has(s.SIZE)?a.width={scale:s.SIZE,field:e.fieldRef(s.SIZE)}:a.width={value:e.bandWidth(s.X,t.x.useSmallBand),offset:-1}:a.width={value:2}),e.fieldDef(s.Y).bin?(a.y={scale:s.Y,field:e.fieldRef(s.Y,{binSuffix:"_start"})},a.y2={scale:s.Y,field:e.fieldRef(s.Y,{binSuffix:"_end"}),offset:1}):e.isMeasure(s.Y)?(a.y={scale:s.Y,field:e.fieldRef(s.Y)},a.y2={field:{group:"height"}}):(e.has(s.Y)?a.yc={scale:s.Y,field:e.fieldRef(s.Y)}:a.y2={field:{group:"height"},offset:-e.config("singleBarOffset")},e.has(s.SIZE)?a.height={scale:s.SIZE,field:e.fieldRef(s.SIZE)}:a.height={value:e.bandWidth(s.Y,t.y.useSmallBand),offset:-1}),e.has(s.COLOR)?a.fill={scale:s.COLOR,field:e.fieldRef(s.COLOR)}:a.fill={value:e.fieldDef(s.COLOR).value};var r=e.fieldDef(s.COLOR).opacity;return r&&(a.opacity={value:r}),a}function i(e,t,n){var a={};e.has(s.X)?a.x={scale:s.X,field:e.fieldRef(s.X,{binSuffix:"_mid"})}:e.has(s.X)||(a.x={value:e.bandWidth(s.X,t.x.useSmallBand)/2}),e.has(s.Y)?a.y={scale:s.Y,field:e.fieldRef(s.Y,{binSuffix:"_mid"})}:e.has(s.Y)||(a.y={value:e.bandWidth(s.Y,t.y.useSmallBand)/2}),e.has(s.SIZE)?a.size={scale:s.SIZE,field:e.fieldRef(s.SIZE)}:e.has(s.SIZE)||(a.size={value:e.fieldDef(s.SIZE).value}),e.has(s.SHAPE)?a.shape={scale:s.SHAPE,field:e.fieldRef(s.SHAPE)}:e.has(s.SHAPE)||(a.shape={value:e.fieldDef(s.SHAPE).value}),e.fieldDef(s.SHAPE).filled?e.has(s.COLOR)?a.fill={scale:s.COLOR,field:e.fieldRef(s.COLOR)}:e.has(s.COLOR)||(a.fill={value:e.fieldDef(s.COLOR).value}):(e.has(s.COLOR)?a.stroke={scale:s.COLOR,field:e.fieldRef(s.COLOR)}:e.has(s.COLOR)||(a.stroke={value:e.fieldDef(s.COLOR).value}),a.strokeWidth={value:e.config("strokeWidth")});var r=e.fieldDef(s.COLOR).opacity||n.opacity;return r&&(a.opacity={value:r}),a}function f(e,t,n){var a={};e.has(s.X)?a.x={scale:s.X,field:e.fieldRef(s.X,{binSuffix:"_mid"})}:e.has(s.X)||(a.x={value:0}),e.has(s.Y)?a.y={scale:s.Y,field:e.fieldRef(s.Y,{binSuffix:"_mid"})}:e.has(s.Y)||(a.y={field:{group:"height"}}),e.has(s.COLOR)?a.stroke={scale:s.COLOR,field:e.fieldRef(s.COLOR)}:e.has(s.COLOR)||(a.stroke={value:e.fieldDef(s.COLOR).value});var r=e.fieldDef(s.COLOR).opacity;return r&&(a.opacity={value:r}),a.strokeWidth={value:e.config("strokeWidth")},a}function o(e,t,n){var a={};e.isMeasure(s.X)?(a.x={scale:s.X,field:e.fieldRef(s.X)},e.isDimension(s.Y)&&(a.x2={scale:s.X,value:0},a.orient={value:"horizontal"})):e.has(s.X)?a.x={scale:s.X,field:e.fieldRef(s.X,{binSuffix:"_mid"})}:a.x={value:0},e.isMeasure(s.Y)?(a.y={scale:s.Y,field:e.fieldRef(s.Y)},a.y2={scale:s.Y,value:0}):e.has(s.Y)?a.y={scale:s.Y,field:e.fieldRef(s.Y,{binSuffix:"_mid"})}:a.y={field:{group:"height"}},e.has(s.COLOR)?a.fill={scale:s.COLOR,field:e.fieldRef(s.COLOR)}:e.has(s.COLOR)||(a.fill={value:e.fieldDef(s.COLOR).value});var r=e.fieldDef(s.COLOR).opacity;
return r&&(a.opacity={value:r}),a}function d(e,t,n){var a={};e.has(s.X)?(a.x={scale:s.X,field:e.fieldRef(s.X,{binSuffix:"_mid"})},e.isDimension(s.X)&&(a.x.offset=-e.bandWidth(s.X,t.x.useSmallBand)/3)):e.has(s.X)||(a.x={value:0}),e.has(s.Y)?(a.y={scale:s.Y,field:e.fieldRef(s.Y,{binSuffix:"_mid"})},e.isDimension(s.Y)&&(a.y.offset=-e.bandWidth(s.Y,t.y.useSmallBand)/3)):e.has(s.Y)||(a.y={value:0}),!e.has(s.X)||e.isDimension(s.X)?a.width={value:e.bandWidth(s.X,t.y.useSmallBand)/1.5}:a.width={value:1},!e.has(s.Y)||e.isDimension(s.Y)?a.height={value:e.bandWidth(s.Y,t.y.useSmallBand)/1.5}:a.height={value:1},e.has(s.COLOR)?a.fill={scale:s.COLOR,field:e.fieldRef(s.COLOR)}:a.fill={value:e.fieldDef(s.COLOR).value};var r=e.fieldDef(s.COLOR).opacity||n.opacity;return r&&(a.opacity={value:r}),a}function c(e){return function(t,n,a){var r={};t.has(s.X)?r.x={scale:s.X,field:t.fieldRef(s.X,{binSuffix:"_mid"})}:t.has(s.X)||(r.x={value:t.bandWidth(s.X,n.x.useSmallBand)/2}),t.has(s.Y)?r.y={scale:s.Y,field:t.fieldRef(s.Y,{binSuffix:"_mid"})}:t.has(s.Y)||(r.y={value:t.bandWidth(s.Y,n.y.useSmallBand)/2}),t.has(s.SIZE)?r.size={scale:s.SIZE,field:t.fieldRef(s.SIZE)}:t.has(s.X)||(r.size={value:t.fieldDef(s.SIZE).value}),r.shape={value:e},t.has(s.COLOR)?r.fill={scale:s.COLOR,field:t.fieldRef(s.COLOR)}:t.has(s.COLOR)||(r.fill={value:t.fieldDef(s.COLOR).value});var i=t.fieldDef(s.COLOR).opacity||a.opacity;return i&&(r.opacity={value:i}),r}}function u(e,t,n){var a={},r=e.fieldDef(s.TEXT);e.has(s.X)?a.x={scale:s.X,field:e.fieldRef(s.X,{binSuffix:"_mid"})}:e.has(s.X)||(e.has(s.TEXT)&&e.fieldDef(s.TEXT).type===l.QUANTITATIVE?a.x={value:t.cellWidth-5}:a.x={value:e.bandWidth(s.X,t.x.useSmallBand)/2}),e.has(s.Y)?a.y={scale:s.Y,field:e.fieldRef(s.Y,{binSuffix:"_mid"})}:e.has(s.Y)||(a.y={value:e.bandWidth(s.Y,t.y.useSmallBand)/2}),e.has(s.SIZE)?a.fontSize={scale:s.SIZE,field:e.fieldRef(s.SIZE)}:e.has(s.SIZE)||(a.fontSize={value:r.font.size}),a.fill={value:r.color};var i=e.fieldDef(s.COLOR).opacity||n.opacity;if(i&&(a.opacity={value:i}),e.has(s.TEXT))if(e.fieldDef(s.TEXT).type===l.QUANTITATIVE){var f=void 0!==r.format?r.format:e.numberFormat(s.TEXT);a.text={template:"{{"+e.fieldRef(s.TEXT,{datum:!0})+" | number:'"+f+"'}}"},a.align={value:r.align}}else a.text={field:e.fieldRef(s.TEXT)};else a.text={value:r.placeholder};return a.font={value:r.font.family},a.fontWeight={value:r.font.weight},a.fontStyle={value:r.font.style},a.baseline={value:r.baseline},a}var s=e("../channel"),l=e("../type");n.compileMarks=a,n.bar={type:"rect",prop:r},n.line={type:"line",prop:f},n.area={type:"area",prop:o},n.tick={type:"rect",prop:d},n.circle={type:"symbol",prop:c("circle")},n.square={type:"symbol",prop:c("square")},n.point={type:"symbol",prop:i},n.text={type:"text",prop:u}},{"../channel":17,"../type":50}],26:[function(e,t,n){function a(e){return x.keys(x.keys(e).reduce(function(t,n){return e[n]&&e[n].scale&&(t[e[n].scale]=1),t},{}))}function r(e,t,a,r,o){return e.reduce(function(e,d){var c={};c.name=d;var u=c.type=i(d,t);return c.domain=f(t,d,u,o),["range","reverse","round","clamp","nice","exponent","zero","bandWidth","outerPadding","padding","points"].forEach(function(e){var i=n[e](t,d,u,a,r);void 0!==i&&(c[e]=i)}),e.push(c),e},[])}function i(e,t){var n=t.fieldDef(e);switch(n.type){case w.NOMINAL:case w.ORDINAL:return"ordinal";case w.TEMPORAL:return n.timeUnit?R.scale.type(n.timeUnit,e):"time";case w.QUANTITATIVE:return t.bin(e)?e===A.ROW||e===A.COLUMN||e===A.SHAPE?"ordinal":"linear":n.scale.type}}function f(e,t,n,a){void 0===a&&(a=!1);var r=e.fieldDef(t);if(r.scale.domain)return r.scale.domain;if(r.type===w.TEMPORAL){var i=R.scale.domain(r.timeUnit,t);if(i)return i}var f=e.stack();if(f&&t===f.fieldChannel)return{data:D.STACKED,field:e.fieldRef(t,{prefn:(a?"max_":"")+"sum_"})};var d=c(e,t),u=o(e,t,n);return d?{data:D.SOURCE,field:e.fieldRef(t,{noAggregate:!0})}:r.bin?{data:e.dataTable(),field:"ordinal"===n?e.fieldRef(t,{binSuffix:"_start"}):[e.fieldRef(t,{binSuffix:"_start"}),e.fieldRef(t,{binSuffix:"_end"})]}:u?{data:u.op?D.SOURCE:e.dataTable(),field:e.fieldRef(t),sort:u}:{data:e.dataTable(),field:e.fieldRef(t)}}function o(e,t,n){var a=e.fieldDef(t).sort;return"ascending"===a||"descending"===a?!0:"ordinal"===n&&x.isObject(a)?{op:a.op,field:a.field}:void 0}function d(e,t){var n=e.fieldDef(t).sort;return!n||"descending"!==n&&"descending"!==n.order?void 0:!0}function c(e,t){var n=e.fieldDef(t),a=n.scale.useRawDomain,r=void 0!==a?a:e.config("useRawDomain");return r&&n.aggregate&&S.SHARED_DOMAIN_OPS.indexOf(n.aggregate)>=0&&(n.type===w.QUANTITATIVE&&!n.bin||n.type===w.TEMPORAL&&(!n.timeUnit||!R.isOrdinalFn(n.timeUnit)))}function u(e,t,n,a){switch(t){case A.X:case A.Y:if("ordinal"===n)return e.bandWidth(t,a[t].useSmallBand);break;case A.ROW:return a.cellHeight;case A.COLUMN:return a.cellWidth}}function s(e,t){return e.fieldDef(t).scale.clamp}function l(e,t){return e.fieldDef(t).scale.exponent}function b(e,t,n){if(void 0!==e.fieldDef(t).scale.nice)return e.fieldDef(t).scale.nice;switch(t){case A.X:case A.Y:if("time"===n||"ordinal"===n)return;return!0;case A.ROW:case A.COLUMN:return!0}}function h(e,t,n){if("ordinal"===n){if(void 0!==e.fieldDef(t).scale.outerPadding)return e.fieldDef(t).scale.outerPadding;if(t===A.ROW||t===A.COLUMN)return 0}}function p(e,t,n){return"ordinal"===n?e.padding(t):void 0}function m(e,t,n){if("ordinal"===n){if(void 0!==e.fieldDef(t).scale.points)return e.fieldDef(t).scale.points;switch(t){case A.X:case A.Y:return!0}}}function g(e,t,n,a,r){var i=e.fieldDef(t);if(i.scale.range)return i.scale.range;switch(t){case A.X:return a.cellWidth?[0,a.cellWidth]:"width";case A.Y:return"ordinal"===n?a.cellHeight?i.bin?[a.cellHeight,0]:[0,a.cellHeight]:"height":a.cellHeight?[a.cellHeight,0]:"height";case A.SIZE:if(e.is("bar"))return[3,Math.max(e.bandWidth(A.X),e.bandWidth(A.Y))];if(e.is(A.TEXT))return[8,40];var f=Math.min(e.bandWidth(A.X),e.bandWidth(A.Y))-1;return[10,.8*f*f];case A.SHAPE:return"shapes";case A.COLOR:return M(e,t,n,r)}}function y(e,t){if(void 0!==e.fieldDef(t).scale.round)return e.fieldDef(t).scale.round;switch(t){case A.X:case A.Y:case A.ROW:case A.COLUMN:case A.SIZE:return!0}}function v(e,t){var n=e.fieldDef(t),a=n.timeUnit;return void 0!==n.scale.zero?n.scale.zero:n.type!==w.TEMPORAL?n.bin?!1:t===A.X||t===A.Y?void 0:!1:"year"===a?!1:void 0}function M(e,t,n,a){var r=e.fieldDef(A.COLOR),i=r.scale,f=e.cardinality(A.COLOR,a),o=r.type,d=i.range;if(void 0===d){var c=i.ordinalPalette,u=i.quantitativeRange;return"ordinal"===n?o===w.NOMINAL?(d=10>=f?i.c10palette:i.c20palette,k.palette(d,f,o)):c?k.palette(c,f,o):k.interpolate(u[0],u[1],f):[u[0],u[1]]}}var O=e("colorbrewer"),T=e("d3-color"),x=e("../util"),S=e("../aggregate"),A=e("../channel"),D=e("../data"),R=e("./time"),w=e("../type");n.compileScaleNames=a,n.compileScales=r,n.type=i,n.domain=f,n.domainSort=o,n.reverse=d,n._useRawDomain=c,n.bandWidth=u,n.clamp=s,n.exponent=l,n.nice=b,n.outerPadding=h,n.padding=p,n.points=m,n.range=g,n.round=y,n.zero=v,n.color=M;var k;!function(e){function t(t,n,a){switch(t){case"category10k":return["#2ca02c","#e377c2","#7f7f7f","#17becf","#8c564b","#d62728","#bcbd22","#9467bd","#ff7f0e","#1f77b4"];case"category10":return["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];case"category20":return["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];case"category20b":return["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];case"category20c":return["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}if(t in O){var r=O[t];if(n in r)return r[n];if(a===w.NOMINAL)return r[Math.max.apply(null,x.keys(r))];var i=3>n?3:Math.max.apply(null,x.keys(r)),f=0,o=i-1;return e.interpolate(r[i][f],r[i][o],n)}return t}function n(e,t,n){var a=T.interpolateHsl(e,t);return x.range(n).map(function(e){return a(1*e/(n-1))})}e.palette=t,e.interpolate=n}(k=n.colors||(n.colors={}))},{"../aggregate":15,"../channel":17,"../data":31,"../type":50,"../util":51,"./time":30,colorbrewer:3,"d3-color":4}],27:[function(e,t,n){function a(e,t,n){var a=n.groupbyChannel,i=n.fieldChannel,f=e.fieldRef(i),o=f+"_start",d=f+"_end",c=[];"area"===e.marktype()&&c.push({type:"impute",field:e.fieldRef(i),groupby:[e.fieldRef(n.stackChannel)],orderby:[e.fieldRef(a)],method:"value",value:0});var u="descending"===n.config.sort?"-"+e.fieldRef(n.stackChannel):"ascending"===n.config.sort?e.fieldRef(n.stackChannel):r.isObject(n.config.sort)?n.config.sort:"-"+e.fieldRef(n.stackChannel),s={type:"stack",groupby:[e.fieldRef(a)],field:e.fieldRef(i),sortby:u,output:{start:o,end:d}};n.config.offset&&(s.offset=n.config.offset),c.push(s),t.from.transform=c,t.properties.update[i]={scale:i,field:o},t.properties.update[i+"2"]={scale:i,field:d}}var r=e("../util");Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a},{"../util":51}],28:[function(e,t,n){function a(e,t){return{opacity:r(e,t)}}function r(e,t){if(!t)return 1;var n=0;if(e.isAggregate())n=1,e.forEach(function(a,r){r===f.ROW||r===f.COLUMN||(r===f.X||r===f.Y)&&i.isOrdinalScale(a)||(n*=e.cardinality(r,t))});else{if(!t["*"])return 1;n=t["*"].max;var a=1;e.has(f.ROW)&&(a*=e.cardinality(f.ROW,t)),e.has(f.COLUMN)&&(a*=e.cardinality(f.COLUMN,t)),n/=a}var r=0;return r=25>=n?1:200>n?.8:1e3>n||e.is("tick")?.7:.3}var i=e("../fielddef"),f=e("../channel");Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a},{"../channel":17,"../fielddef":33}],29:[function(e,t,n){function a(e,t,n){var a=e.marks,r={name:"subfacet",type:"group",from:t.from,properties:{enter:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:a};e.marks=[r],delete t.from;var i=r.from.transform||(r.from.transform=[]);i.push({type:"facet",groupby:n})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a},{}],30:[function(e,t,n){function a(e,t,n,a){var r=e.timeUnit;switch(r){case"seconds":return 60;case"minutes":return 60;case"hours":return 24;case"day":return 7;case"date":return 31;case"month":return 12;case"year":var i=t[e.field],f=t["year_"+e.field];return f?f.distinct-(i.missing>0&&n[a]?1:0):null}return null}function r(e,t){var n="utc"+e;return n+"("+t+")"}function i(e,t){switch(e){case"seconds":case"minutes":case"hours":case"date":return 2;case"month":case"day":var n=f(e,t);return n?Math.max.apply(null,n.map(function(e){return e.length})):2;case"year":return 4}var a=t.config("timeFormat");return u.utcFormat(a)(h).length}function f(e,t){var n,a=t.config("timeScaleLabelLength");switch(e){case"day":n=t.config("dayScaleLabel");break;case"month":n=t.config("monthScaleLabel")}return n?a?n.map(function(e){return e.substr(0,a)}):n:void 0}function o(e){var t=e.reduce(function(t,n){var a=n.timeUnit;if(n.type===b.TEMPORAL&&a&&!t[a]){var r=p.def(n.timeUnit,e);r&&(t[a]=r)}return t},{});return s.vals(t)}function d(e){switch(e){case"seconds":case"minutes":case"hours":case"day":case"date":case"month":return!0}return!1}function c(e){switch(e){case"day":case"month":return!0}return!1}var u=e("d3-time-format"),s=e("../util"),l=e("../channel"),b=e("../type"),h=new Date(Date.UTC(2014,8,17));n.cardinality=a,n.formula=r,n.maxLength=i,n.range=f,n.scales=o,n.isOrdinalFn=d;var p;!function(e){function t(t,n){var a=f(t,n);return a?{name:"time-"+t,type:"ordinal",domain:e.domain(t),range:a}:null}function n(e,t){return t===l.COLOR?"linear":d(e)||t===l.COLUMN||t===l.ROW?"ordinal":"linear"}function a(e,t){var n=t===l.COLOR;switch(e){case"seconds":case"minutes":return n?[0,59]:s.range(0,60);case"hours":return n?[0,23]:s.range(0,24);case"day":return n?[0,6]:s.range(0,7);case"date":return n?[1,31]:s.range(1,32);case"month":return n?[0,11]:s.range(0,12)}return null}e.def=t,e.type=n,e.domain=a}(p=n.scale||(n.scale={})),n.hasScale=c},{"../channel":17,"../type":50,"../util":51,"d3-time-format":6}],31:[function(e,t,n){function a(e){var t=r.summary(e);return t.reduce(function(e,t){return e[t.field]=t,e},{"*":{max:e.length,min:0}})}var r=e("./util"),i=e("./type");n.SUMMARY="summary",n.SOURCE="source",n.STACKED="stacked",n.types={"boolean":i.NOMINAL,number:i.QUANTITATIVE,integer:i.QUANTITATIVE,date:i.TEMPORAL,string:i.NOMINAL},n.stats=a},{"./type":50,"./util":51}],32:[function(e,t,n){function a(e){var t=0;return e.color&&t++,e.size&&t++,e.shape&&t++,t}function r(e,t){var n=e&&e[t];return n&&n.field}function i(e){for(var t in e)if(r(e,t)&&e[t].aggregate)return!0;return!1}function f(e,t){var n=0;u.CHANNELS.forEach(function(a){r(e,a)&&t(e[a],a,n++)})}function o(e,t){var n=[];return u.CHANNELS.forEach(function(a){r(e,a)&&n.push(t(e[a],a,e))}),n}function d(e,t,n){var a=n;return u.CHANNELS.forEach(function(n){r(e,n)&&(a=t(a,e[n],n,e))}),a}function c(e){return d(e,function(e,t){var n=e[t.field]=e[t.field]||[],a=n.containsType=n.containsType||{};return-1===n.indexOf(t)&&(n.push(t),a[t.type]=!0),e},{})}var u=e("./channel");n.countRetinal=a,n.has=r,n.isAggregate=i,n.forEach=f,n.map=o,n.reduce=d,n.fields=c},{"./channel":17}],33:[function(e,t,n){function a(e,t){t=t||{};var n=(t.datum?"datum.":"")+(t.prefn||""),a=e.field;if(u(e))return n+"count";if(t.fn)return n+t.fn+"_"+a;if(!t.nofn&&e.bin){var r=t.binSuffix||"_start";return n+"bin_"+a+r}return t.nofn||t.noAggregate||!e.aggregate?!t.nofn&&e.timeUnit?n+e.timeUnit+"_"+a:n+a:n+e.aggregate+"_"+a}function r(e,t){for(var n=0;n<t.length;n++)if(e.type===t[n])return!0;return!1}function i(e){return r(e,[p.NOMINAL,p.ORDINAL])||e.type===p.TEMPORAL&&e.timeUnit&&h.isOrdinalFn(e.timeUnit)}function f(e){return r(e,[p.NOMINAL,p.ORDINAL])||!!e.bin||e.type===p.TEMPORAL&&!!e.timeUnit}function o(e){return e&&f(e)}function d(e){return e&&!f(e)}function c(){return{field:"*",aggregate:"count",type:p.QUANTITATIVE,displayName:n.COUNT_DISPLAYNAME}}function u(e){return"count"===e.aggregate}function s(e,t,n){void 0===n&&(n={});var a=t[e.field],r=e.type;if(e.bin){var i=e.bin,f="boolean"==typeof i?l.MAXBINS_DEFAULT:i.maxbins,o=b.getbins(a,f);return(o.stop-o.start)/o.step}if(e.type===p.TEMPORAL){var d=h.cardinality(e,t,n,r);if(null!==d)return d}return e.aggregate?1:a.distinct-(a.missing>0&&n[r]?1:0)}var l=e("./bin"),b=e("./util"),h=e("./compiler/time"),p=e("./type");n.fieldRef=a,n.isTypes=r,n.isOrdinalScale=i,n.isDimension=o,n.isMeasure=d,n.count=c,n.COUNT_DISPLAYNAME="Number of Records",n.isCount=u,n.cardinality=s},{"./bin":16,"./compiler/time":30,"./type":50,"./util":51}],34:[function(e,t,n){n.AREA="area",n.BAR="bar",n.LINE="line",n.POINT="point",n.TEXT="text",n.TICK="tick"},{}],35:[function(e,t,n){n.axis={type:"object",properties:{format:{type:"string","default":void 0,description:"The formatting pattern for axis labels. If not undefined, this will be determined by the max value of the field."},grid:{type:"boolean","default":void 0,description:"A flag indicate if gridlines should be created in addition to ticks. If `grid` is unspecified, the default value is `true` for ROW and COL. For X and Y, the default value is `true` for quantitative and time fields and `false` otherwise."},layer:{type:"string","default":void 0,description:"A string indicating if the axis (and any gridlines) should be placed above or below the data marks."},orient:{type:"string","default":void 0,"enum":["top","right","left","bottom"],description:"The orientation of the axis. One of top, bottom, left or right. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart)."},ticks:{type:"integer","default":void 0,minimum:0,description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.'},title:{type:"string","default":void 0,description:"A title for the axis. (Shows field name and its function by default.)"},labelMaxLength:{type:"integer","default":25,minimum:0,description:"Truncate labels that are too long."},titleMaxLength:{type:"integer","default":void 0,minimum:0,description:"Max length for axis title if the title is automatically generated from the field's description"},titleOffset:{type:"integer","default":void 0,description:"A title offset value for the axis."},properties:{type:"object","default":void 0,description:"Optional mark property definitions for custom axis styling."}}}},{}],36:[function(e,t,n){var a=e("../bin"),r=e("../type"),i=e("../util");n.bin={type:["boolean","object"],"default":!1,properties:{maxbins:{type:"integer","default":a.MAXBINS_DEFAULT,minimum:2,description:"Maximum number of bins."}},supportedTypes:i.toMap([r.QUANTITATIVE])}},{"../bin":16,"../type":50,"../util":51}],37:[function(e,t,n){n.config={type:"object",properties:{width:{type:"integer","default":void 0},height:{type:"integer","default":void 0},viewport:{type:"array",items:{type:"integer"},"default":void 0},gridColor:{type:"string",role:"color","default":"#000000"},gridOpacity:{type:"number",minimum:0,maximum:1,"default":.08},filterNull:{type:"object",properties:{nominal:{type:"boolean","default":!1},ordinal:{type:"boolean","default":!1},quantitative:{type:"boolean","default":!0},temporal:{type:"boolean","default":!0}}},autoSortLine:{type:"boolean","default":!0},singleHeight:{type:"integer","default":200,minimum:0},singleWidth:{type:"integer","default":200,minimum:0},largeBandWidth:{type:"integer","default":21,minimum:0},smallBandWidth:{type:"integer","default":12,minimum:0},largeBandMaxCardinality:{type:"integer","default":10},padding:{type:"number","default":1,description:"default scale padding for ordinal x/y scales."},cellPadding:{type:"number","default":.1,description:"default scale padding for row/column scales."},cellGridColor:{type:"string",role:"color","default":"#000000"},cellGridOpacity:{type:"number",minimum:0,maximum:1,"default":.25},cellGridOffset:{type:"number","default":6},cellBackgroundColor:{type:"string",role:"color","default":"rgba(0,0,0,0)"},textCellWidth:{type:"integer","default":90,minimum:0},stack:{type:["boolean","object"],"default":{},description:"Enable stacking (for bar and area marks only).",properties:{sort:{oneOf:[{type:"string","enum":["ascending","descending"]},{type:"array",items:{type:"string"}}],description:'Order of the stack. This can be either a string (either "descending" or "ascending")or a list of fields to determine the order of stack layers.By default, stack uses descending order.'},offset:{type:"string","enum":["zero","center","normalize"]}}},strokeWidth:{type:"integer","default":2,minimum:0},singleBarOffset:{type:"integer","default":5,minimum:0},timeScaleLabelLength:{type:"integer","default":3,minimum:0,description:"Max length for values in dayScaleLabel and monthScaleLabel.  Zero means using full names in dayScaleLabel/monthScaleLabel."},dayScaleLabel:{type:"array",items:{type:"string"},"default":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],description:"Axis labels for day of week, starting from Sunday.(Consistent with Javascript -- See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getDay."},monthScaleLabel:{type:"array",items:{type:"string"},"default":["January","February","March","April","May","June","July","August","September","October","November","December"],description:"Axis labels for month."},characterWidth:{type:"integer","default":6},numberFormat:{type:"string","default":"s",description:"D3 Number format for axis labels and text tables."},timeFormat:{type:"string","default":"%Y-%m-%d",description:"Date format for axis labels."},useRawDomain:{type:"boolean","default":!1,description:"Use the source data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}}},{}],38:[function(e,t,n){n.data={type:"object",properties:{formatType:{type:"string","enum":["json","csv","tsv"],"default":"json"},url:{type:"string","default":void 0},values:{type:"array","default":void 0,description:"Pass array of objects instead of a url to a file.",items:{type:"object",additionalProperties:!0}},filter:{type:"string","default":void 0,description:"A string containing the filter Vega expression. Use `datum` to refer to the current data object."},calculate:{type:"array","default":void 0,description:"Calculate new field(s) using the provided expresssion(s). Calculation are applied before filter.",items:{type:"object",properties:{field:{type:"string",description:"The field in which to store the computed formula value."},expr:{type:"string",description:"A string containing an expression for the formula. Use the variable `datum` to to refer to the current data object."}}}}}}},{}],39:[function(e,t,n){var a=e("colorbrewer"),r=e("./schemautil"),i=e("../util"),f=e("../util"),o=e("./axis.schema"),d=e("./legend.schema"),c=e("./sort.schema"),u=e("./fielddef.schema"),s={required:["field","type"]},l=r.merge(i.duplicate(u.typicalField),s,{supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0},properties:{axis:o.axis,sort:c.sort}}),b=i.duplicate(l),h=r.merge(i.duplicate(u.onlyOrdinalField),s,{supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{axis:o.axis,sort:c.sort}}),p=r.merge(i.duplicate(h),{properties:{height:{type:"number",minimum:0,"default":150}}}),m=r.merge(i.duplicate(h),{properties:{width:{type:"number",minimum:0,"default":150}}}),g=r.merge(i.duplicate(u.typicalField),{supportedMarktypes:{point:!0,bar:!0,circle:!0,square:!0,text:!0},properties:{legend:d.legend,sort:c.sort,value:{type:"integer","default":30,minimum:0,description:"Size of marks."}}}),y=r.merge(i.duplicate(u.typicalField),{supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{legend:d.legend,sort:c.sort,value:{type:"string",role:"color","default":"#4682b4",description:"Color to be used for marks."},opacity:{type:"number","default":void 0,minimum:0,maximum:1},scale:{type:"object",properties:{range:{type:["string","array"],"default":void 0,description:"Color palette, if undefined vega-lite will use data propertyto pick one from c10palette, c20palette, or ordinalPalette."},c10palette:{type:"string","default":"category10","enum":["category10","category10k","Pastel1","Pastel2","Set1","Set2","Set3"]},c20palette:{type:"string","default":"category20","enum":["category20","category20b","category20c"]},ordinalPalette:{type:"string","default":void 0,description:"Color palette to encode ordinal variables.","enum":f.keys(a)},quantitativeRange:{type:"array","default":["#AFC6A3","#09622A"],description:"Color range to encode quantitative variables.",minItems:2,maxItems:2,items:{type:"string",role:"color"}}}}}}),v=r.merge(i.duplicate(u.onlyOrdinalField),{supportedMarktypes:{point:!0,circle:!0,square:!0},properties:{legend:d.legend,sort:c.sort,value:{type:"string","enum":["circle","square","cross","diamond","triangle-up","triangle-down"],"default":"circle",description:"Mark to be used."},filled:{type:"boolean","default":!1,description:"Whether the shape's color should be used as fill color instead of stroke color."}}}),M=r.merge(i.duplicate(u.onlyOrdinalField),{supportedMarktypes:{point:!0,tick:!0,line:!0,circle:!0,square:!0},properties:{sort:c.sort}}),O=r.merge(i.duplicate(u.typicalField),{supportedMarktypes:{text:!0},properties:{sort:c.sort,align:{type:"string","default":"right"},baseline:{type:"string","default":"middle"},color:{type:"string",role:"color","default":"#000000"},margin:{type:"integer","default":4,minimum:0},placeholder:{type:"string","default":"Abc"},font:{type:"object",properties:{weight:{type:"string","enum":["normal","bold"],"default":"normal"},size:{type:"integer","default":10,minimum:0},family:{type:"string","default":"Helvetica Neue"},style:{type:"string","default":"normal","enum":["normal","italic"]}}},format:{type:"string","default":"",description:"The formatting pattern for text value.If not defined, this will be determined automatically"}}});n.encoding={type:"object",properties:{x:l,y:b,row:p,column:m,size:g,color:y,shape:v,text:O,detail:M}}},{"../util":51,"./axis.schema":35,"./fielddef.schema":40,"./legend.schema":41,"./schemautil":45,"./sort.schema":46,colorbrewer:3}],40:[function(e,t,n){var a=e("./bin.schema"),r=e("./scale.schema"),i=e("../aggregate"),f=e("../util"),o=e("./schemautil"),d=e("../timeunit"),c=e("../type");n.fieldDef={type:"object",properties:{field:{type:"string"},type:{type:"string","enum":[c.NOMINAL,c.ORDINAL,c.QUANTITATIVE,c.TEMPORAL]},timeUnit:{type:"string","enum":d.TIMEUNITS,supportedTypes:f.toMap([c.TEMPORAL])},bin:a.bin}},n.aggregate={type:"string","enum":i.AGGREGATE_OPS,supportedEnums:{quantitative:i.AGGREGATE_OPS,ordinal:["median","min","max"],nominal:[],temporal:["mean","median","min","max"],"":["count"]},supportedTypes:f.toMap([c.QUANTITATIVE,c.NOMINAL,c.ORDINAL,c.TEMPORAL,""])},n.typicalField=o.merge(f.duplicate(n.fieldDef),{properties:{aggregate:n.aggregate,scale:r.typicalScale}}),n.onlyOrdinalField=o.merge(f.duplicate(n.fieldDef),{properties:{aggregate:{type:"string","enum":["count"],supportedTypes:f.toMap([c.NOMINAL,c.ORDINAL])},scale:r.ordinalOnlyScale}})},{"../aggregate":15,"../timeunit":49,"../type":50,"../util":51,"./bin.schema":36,"./scale.schema":43,"./schemautil":45}],41:[function(e,t,n){n.legend={"default":!0,description:"Properties of a legend or boolean flag for determining whether to show it.",oneOf:[{type:"object",properties:{orient:{type:"string","default":void 0,description:'The orientation of the legend. One of "left" or "right". This determines how the legend is positioned within the scene. The default is "right".'},title:{type:"string","default":void 0,description:"A title for the legend. (Shows field name and its function by default.)"},format:{type:"string","default":void 0,description:"An optional formatting pattern for legend labels. Vega uses D3's format pattern."},values:{type:"array","default":void 0,description:"Explicitly set the visible legend values."},properties:{type:"object","default":void 0,description:"Optional mark property definitions for custom legend styling. "}}},{type:"boolean"}]}},{}],42:[function(e,t,n){n.marktype={type:"string","enum":["point","tick","bar","line","area","circle","square","text"]}},{}],43:[function(e,t,n){var a=e("../util"),r=e("./schemautil"),i=e("../type"),f={type:"object",properties:{type:{type:"string","enum":["linear","log","pow","sqrt","quantile"],"default":"linear",supportedTypes:a.toMap([i.QUANTITATIVE])},domain:{"default":void 0,type:["array","object"],description:"The domain of the scale, representing the set of data values. For quantitative data, this can take the form of a two-element array with minimum and maximum values. For ordinal/categorical data, this may be an array of valid input values. The domain may also be specified by a reference to a data source."},range:{"default":void 0,type:["array","object"],description:"The range of the scale, representing the set of visual values. For numeric values, the range can take the form of a two-element array with minimum and maximum values. For ordinal or quantized data, the range may by an array of desired output values, which are mapped to elements in the specified domain. For ordinal scales only, the range can be defined using a DataRef: the range values are then drawn dynamically from a backing data set."},round:{"default":void 0,type:"boolean",description:"If true, rounds numeric output values to integers. This can be helpful for snapping to the pixel grid."}}},o={properties:{bandWidth:{type:"integer",minimum:0,"default":void 0},outerPadding:{type:"number","default":void 0},padding:{type:"number","default":void 0,description:"Applies spacing among ordinal elements in the scale range. The actual effect depends on how the scale is configured. If the __points__ parameter is `true`, the padding value is interpreted as a multiple of the spacing between points. A reasonable value is 1.0, such that the first and last point will be offset from the minimum and maximum value by half the distance between points. Otherwise, padding is typically in the range [0, 1] and corresponds to the fraction of space in the range interval to allocate to padding. A value of 0.5 means that the range band width will be equal to the padding width. For more, see the [D3 ordinal scale documentation](https://github.com/mbostock/d3/wiki/Ordinal-Scales)."},points:{type:"boolean","default":void 0,description:"If true, distributes the ordinal values over a quantitative range at uniformly spaced points. The spacing of the points can be adjusted using the padding property. If false, the ordinal scale will construct evenly-spaced bands, rather than points."}}},d={properties:{clamp:{type:"boolean","default":!0,description:"If true, values that exceed the data domain are clamped to either the minimum or maximum range value"},nice:{"default":void 0,oneOf:[{type:"boolean",description:"If true, modifies the scale domain to use a more human-friendly number range (e.g., 7 instead of 6.96)."},{type:"string","enum":["second","minute","hour","day","week","month","year"],description:'If specified, modifies the scale domain to use a more human-friendly value range. For time and utc scale types only, the nice value should be a string indicating the desired time interval; legal values are "second", "minute", "hour", "day", "week", "month", or "year".'}],supportedTypes:a.toMap([i.QUANTITATIVE,i.TEMPORAL]),description:""},exponent:{type:"number","default":void 0,description:"Sets the exponent of the scale transformation. For pow scale types only, otherwise ignored."},zero:{type:"boolean",description:"If true, ensures that a zero baseline value is included in the scale domain. This option is ignored for non-quantitative scales.","default":void 0,supportedTypes:a.toMap([i.QUANTITATIVE,i.TEMPORAL])},useRawDomain:{type:"boolean","default":void 0,description:"Uses the source data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}};n.ordinalOnlyScale=r.merge(a.duplicate(f),o),n.typicalScale=r.merge(a.duplicate(f),o,d)},{"../type":50,"../util":51,"./schemautil":45}],44:[function(e,t,n){function a(){return r.instantiate(n.schema)}var r=e("./schemautil"),i=e("./marktype.schema"),f=e("./config.schema"),o=e("./data.schema"),d=e("./encoding.schema"),c=e("./fielddef.schema");n.aggregate=c.aggregate,n.util=r,n.schema={$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for Vega-lite specification",type:"object",required:["marktype","encoding"],properties:{data:o.data,marktype:i.marktype,encoding:d.encoding,config:f.config}},n.instantiate=a},{"./config.schema":37,"./data.schema":38,"./encoding.schema":39,"./fielddef.schema":40,"./marktype.schema":42,"./schemautil":45}],45:[function(e,t,n){function a(e){return 0===Object.keys(e).length}function r(e,t){return o(i(t),e)}function i(e){var t;if(void 0!==e){if("default"in e)return t=e["default"],c.isObject(t)?c.duplicate(t):t;if("object"===e.type){var n={};for(var a in e.properties)t=i(e.properties[a]),void 0!==t&&(n[a]=t);return n}"array"===e.type}}function f(e,t){var n={};for(var r in e){var i=t[r],o=e[r];if(!t||i!==o)if("object"==typeof o&&!c.isArray(o)&&i){var d=f(o,i);a(d)||(n[r]=d)}else if(c.isArray(o)){if(c.isArray(i)&&o.length===i.length){for(var u=!0,s=0;s<o.length;s++)if(o[s]!==i[s]){u=!1;break}if(u)continue}n[r]=o}else n[r]=o}return n}function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];
for(var a=0;a<t.length;a++)e=d(e,t[a]);return e}function d(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=o(t[n].constructor===Array?[]:{},t[n]):o(e[n],t[n]));return e}var c=e("../util");n.extend=r,n.instantiate=i,n.subtract=f,n.merge=o},{"../util":51}],46:[function(e,t,n){var a=e("../aggregate"),r=e("../type"),i=e("../util");n.sort={"default":"ascending",supportedTypes:i.toMap([r.QUANTITATIVE,r.ORDINAL]),oneOf:[{type:"string","enum":["ascending","descending","unsorted"]},{type:"object",required:["field","op"],properties:{field:{type:"string",description:"The field name to aggregate over."},op:{type:"string","enum":a.AGGREGATE_OPS,description:"The field name to aggregate over."},order:{type:"string","enum":["ascending","descending"]}}}]}},{"../aggregate":15,"../type":50,"../util":51}],47:[function(e,t,n){function a(e){return"mark"+n.ASSIGN+e.marktype+n.DELIM+i(e.encoding)}function r(e,t,a){var r=e.split(n.DELIM),i=r.shift().split(n.ASSIGN)[1].trim(),o=f(r.join(n.DELIM)),d={marktype:i,encoding:o};return void 0!==t&&(d.data=t),void 0!==a&&(d.config=a),d}function i(e){return b.map(e,function(e,t){return t+n.ASSIGN+o(e)}).join(n.DELIM)}function f(e){return e.split(n.DELIM).reduce(function(e,t){var a=t.split(n.ASSIGN),r=a[0].trim(),i=a[1];return e[r]=c(i),e},{})}function o(e){return(e.aggregate?e.aggregate+n.FUNC:"")+(e.timeUnit?e.timeUnit+n.FUNC:"")+(e.bin?"bin"+n.FUNC:"")+(e.field||"")+n.TYPE+l.SHORT_TYPE[e.type]}function d(e,t){return void 0===t&&(t=n.DELIM),e.map(o).join(t)}function c(e){var t,a=e.split(n.TYPE),r={field:a[0].trim(),type:l.TYPE_FROM_SHORT_TYPE[a[1].trim()]};for(t in u.AGGREGATE_OPS){var i=u.AGGREGATE_OPS[t];if(0===r.field.indexOf(i+"_")){r.field=r.field.substr(i.length+1),"count"===i&&0===r.field.length&&(r.field="*"),r.aggregate=i;break}}for(t in s.TIMEUNITS){var f=s.TIMEUNITS[t];if(r.field&&0===r.field.indexOf(f+"_")){r.field=r.field.substr(r.field.length+1),r.timeUnit=f;break}}return r.field&&0===r.field.indexOf("bin_")&&(r.field=r.field.substr(4),r.bin=!0),r}var u=e("./aggregate"),s=e("./timeunit"),l=e("./type"),b=e("./encoding");n.DELIM="|",n.ASSIGN="=",n.TYPE=",",n.FUNC="_",n.shorten=a,n.parse=r,n.shortenEncoding=i,n.parseEncoding=f,n.shortenFieldDef=o,n.shortenFieldDefs=d,n.parseFieldDef=c},{"./aggregate":15,"./encoding":32,"./timeunit":49,"./type":50}],48:[function(e,t,n){function a(e){return o.isAggregate(e.encoding)}function r(e){return new c.Model(e).toSpec(!0)}function i(e){return(e.encoding[u.COLOR].field||e.encoding[u.DETAIL].field)&&(e.marktype===s.BAR||e.marktype===s.AREA)&&(!e.config||!e.config.stack!=!1)&&o.isAggregate(e.encoding)}function f(e){var t=e.encoding,n=d.duplicate(e.encoding);return n.x=t.y,n.y=t.x,n.row=t.column,n.column=t.row,e.encoding=n,e}var o=e("./encoding"),d=e("./util"),c=e("./compiler/Model"),u=e("./channel"),s=e("./marktype");n.alwaysNoOcclusion=a,n.getCleanSpec=r,n.isStack=i,n.transpose=f},{"./channel":17,"./compiler/Model":18,"./encoding":32,"./marktype":34,"./util":51}],49:[function(e,t,n){n.TIMEUNITS=["year","month","day","date","hours","minutes","seconds"]},{}],50:[function(e,t,n){function a(e){return n.TYPE_FROM_SHORT_TYPE[e.toUpperCase()]||e.toLowerCase()}n.QUANTITATIVE="quantitative",n.ORDINAL="ordinal",n.TEMPORAL="temporal",n.NOMINAL="nominal",n.SHORT_TYPE={quantitative:"Q",temporal:"T",nominal:"N",ordinal:"O"},n.TYPE_FROM_SHORT_TYPE={Q:n.QUANTITATIVE,T:n.TEMPORAL,O:n.ORDINAL,N:n.NOMINAL},n.getFullName=a},{}],51:[function(e,t,n){function a(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}function r(e,t){return void 0===t&&(t=4),+e.toFixed(t)}function i(e,t,n){if(e.forEach)e.forEach.call(n,t);else for(var a in e)t.call(n,e[a],a,e)}function f(e,t,n,a){if(e.reduce)return e.reduce.call(a,t,n);for(var r in e)n=t.call(a,n,e[r],r,e);return n}function o(e,t,n){if(e.map)return e.map.call(n,t);var a=[];for(var r in e)a.push(t.call(n,e[r],r,e));return a}function d(e,t){var n,a=0;for(n in e)if(t(e[n],n,a++))return!0;return!1}function c(e,t){var n,a=0;for(n in e)if(!t(e[n],n,a++))return!1;return!0}function u(e,t){return b({min:e.min,max:e.max,maxbins:t})}function s(e,t,n,a){void 0===a&&(a=!1);for(var r=0;r<t.length-1;++r)e=a||t[r]in e?e[t[r]]:e[t[r]]={};e[t[r]]=n}function l(e){console.error("[VL Error]",e)}a(e("datalib/src/util")),a(e("datalib/src/generate")),a(e("datalib/src/stats"));var b=e("datalib/src/bins/bins");n.bin=b,n.roundFloat=r,n.forEach=i,n.reduce=f,n.map=o,n.any=d,n.all=c,n.getbins=u,n.setter=s,n.error=l},{"datalib/src/bins/bins":9,"datalib/src/generate":10,"datalib/src/stats":12,"datalib/src/util":14}],52:[function(e,t,n){function a(e,t,a){void 0===t&&(t=n.DEFAULT_REQUIRED_CHANNEL_MAP),void 0===a&&(a=n.DEFAULT_SUPPORTED_CHANNEL_TYPE);var r=e.marktype,i=e.encoding,f=t[r],o=a[r];for(var d in f)if(!(f[d]in i))return'Missing encoding channel "'+f[d]+'" for marktype "'+r+'"';for(var c in i)if(!o[c])return'Encoding channel "'+c+'" is not supported by mark type "'+r+'"';return"bar"!==r||i.x||i.y?null:"Missing both x and y for bar"}var r=e("./util");n.DEFAULT_REQUIRED_CHANNEL_MAP={text:["text"],line:["x","y"],area:["x","y"]},n.DEFAULT_SUPPORTED_CHANNEL_TYPE={bar:r.toMap(["row","column","x","y","size","color","detail"]),line:r.toMap(["row","column","x","y","color","detail"]),area:r.toMap(["row","column","x","y","color","detail"]),tick:r.toMap(["row","column","x","y","color","detail"]),circle:r.toMap(["row","column","x","y","color","size","detail"]),square:r.toMap(["row","column","x","y","color","size","detail"]),point:r.toMap(["row","column","x","y","color","size","detail","shape"]),text:r.toMap(["row","column","size","color","text"])},n.getEncodingMappingError=a},{"./util":51}],53:[function(e,t,n){function a(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}var r=e("./bin"),i=e("./channel"),f=e("./data"),o=e("./encoding"),d=e("./fielddef"),c=e("./compiler/compiler"),u=e("./schema/schema"),s=e("./shorthand"),l=e("./spec"),b=e("./timeunit"),h=e("./type"),p=e("./validate"),m=e("d3-format");a(e("./util")),n.bin=r,n.channel=i,n.compiler=c,n.compile=c.compile,n.data=f,n.encoding=o,n.fieldDef=d,n.schema=u,n.shorthand=s,n.spec=l,n.timeUnit=b,n.type=h,n.format=m.format,n.validate=p,n.version="0.9.0"},{"./bin":16,"./channel":17,"./compiler/compiler":20,"./data":31,"./encoding":32,"./fielddef":33,"./schema/schema":44,"./shorthand":47,"./spec":48,"./timeunit":49,"./type":50,"./util":51,"./validate":52,"d3-format":5}]},{},[53])(53)});
//# sourceMappingURL=vega-lite.min.js.map
